(function(e){function t(t){for(var o,i,r=t[0],c=t[1],l=t[2],u=0,p=[];u<r.length;u++)i=r[u],a[i]&&p.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);m&&m(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,i=1;i<n.length;i++){var r=n[i];0!==a[r]&&(o=!1)}o&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},i={app:0},a={app:0},s=[];function r(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-004e":"f8f5834c","chunk-05d4":"79386b22","chunk-0fc4":"609ff448","chunk-11d2":"c87fc308","chunk-1e85":"d52663cd","chunk-229b":"9267ded0","chunk-27f7":"417404ea","chunk-2abc":"f7ce9c33","chunk-2c82":"62fa4e98","chunk-2ef9":"8638ebe5","chunk-2f09":"a5b1d6b8","chunk-494d":"7220d409","chunk-4c55":"f11ac45a","chunk-4ec2":"a4b7212e","chunk-52af":"87871d82","chunk-54a4":"ceecb9b5","chunk-5555":"a99482e5","chunk-5f8b":"62de9a9f","chunk-6ad0":"a0413df8","chunk-723c":"fb10485c","chunk-72a9":"a0407efd","chunk-7657":"b045f1ff","chunk-a29f":"d3fae714","chunk-a561":"8155d809","chunk-ab6f":"d3704eac","chunk-c373":"a0992750","chunk-d6f8":"b04e5f76","chunk-e5bd":"bdfea208","chunk-fdb5":"18d62bf3"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-004e":1,"chunk-05d4":1,"chunk-0fc4":1,"chunk-11d2":1,"chunk-1e85":1,"chunk-229b":1,"chunk-27f7":1,"chunk-2abc":1,"chunk-2c82":1,"chunk-2ef9":1,"chunk-2f09":1,"chunk-494d":1,"chunk-4c55":1,"chunk-4ec2":1,"chunk-52af":1,"chunk-54a4":1,"chunk-5555":1,"chunk-5f8b":1,"chunk-6ad0":1,"chunk-723c":1,"chunk-72a9":1,"chunk-7657":1,"chunk-a29f":1,"chunk-a561":1,"chunk-ab6f":1,"chunk-c373":1,"chunk-d6f8":1,"chunk-e5bd":1,"chunk-fdb5":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise(function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-004e":"ffba51ff","chunk-05d4":"fed0ac7b","chunk-0fc4":"b2973baf","chunk-11d2":"f0192356","chunk-1e85":"b826c3c4","chunk-229b":"3209cb97","chunk-27f7":"0486f259","chunk-2abc":"e2dd4a4b","chunk-2c82":"0f504e63","chunk-2ef9":"7d52bf1d","chunk-2f09":"5abed664","chunk-494d":"60ea571f","chunk-4c55":"a0e1f38e","chunk-4ec2":"80410a71","chunk-52af":"33ee501c","chunk-54a4":"ecdaa2d5","chunk-5555":"57561dd0","chunk-5f8b":"a6abcd58","chunk-6ad0":"1ac66bb9","chunk-723c":"3b8eef1d","chunk-72a9":"e6dcb915","chunk-7657":"13988cd4","chunk-a29f":"2ba5c484","chunk-a561":"54b030a6","chunk-ab6f":"e554f84d","chunk-c373":"ac18e32d","chunk-d6f8":"7be1d875","chunk-e5bd":"b4e86ed7","chunk-fdb5":"195286ad"}[e]+".css",i=c.p+o,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var r=a[s],l=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(l===o||l===i))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){r=u[s],l=r.getAttribute("data-href");if(l===o||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.request=o,n(a)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){i[e]=0}));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var s=new Promise(function(t,n){o=a[e]=[t,n]});t.push(o[2]=s);var l,u=document.getElementsByTagName("head")[0],p=document.createElement("script");p.charset="utf-8",p.timeout=120,c.nc&&p.setAttribute("nonce",c.nc),p.src=r(e),l=function(t){p.onerror=p.onload=null,clearTimeout(m);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");s.type=o,s.request=i,n[1](s)}a[e]=void 0}};var m=setTimeout(function(){l({type:"timeout",target:p})},12e4);p.onerror=p.onload=l,u.appendChild(p)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var m=u;s.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"034f":function(e,t,n){"use strict";var o=n("04f5"),i=n.n(o);i.a},"04f5":function(e,t,n){},1:function(e,t,n){e.exports=n("56d7")},"10bf":function(e,t,n){},"14ca":function(e,t,n){},16:function(e,t){},17:function(e,t){},18:function(e,t){},19:function(e,t){},"1f45":function(e,t,n){"use strict";var o=n("14ca"),i=n.n(o);i.a},20:function(e,t){},21:function(e,t){},22:function(e,t){},2352:function(e,t,n){"use strict";var o=n("c1a1"),i=n.n(o);i.a},3194:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("3b2b"),n("a481");var o=n("c665"),i=n("aa9a"),a=(n("fd4b"),function(){function e(t){Object(o["a"])(this,e),this.url=t,this.root=document.querySelector("body")}return Object(i["a"])(e,[{key:"open",value:function(){this.render(this.url),this.events()}},{key:"render",value:function(e){var t=this.template('<div class="mediabox-wrap" role="dialog" aria-hidden="false"><div class="mediabox-content" role="document" tabindex="0"><span id="mediabox-esc" class="mediabox-close" aria-label="close" tabindex="1"></span><iframe src="{embed}?autoplay=1" frameborder="0" allowfullscreen></iframe></div></div>',{embed:e});this.lastFocusElement=document.activeElement,this.root.insertAdjacentHTML("beforeend",t),document.body.classList.add("stop-scroll")}},{key:"events",value:function(){var e=document.querySelector(".mediabox-wrap"),t=document.querySelector(".mediabox-content");e.addEventListener("click",function(t){(t.target&&"SPAN"===t.target.nodeName&&"mediabox-close"===t.target.className||"DIV"===t.target.nodeName&&"mediabox-wrap"===t.target.className||"mediabox-content"===t.target.className&&"IFRAME"!==t.target.nodeName)&&this.close(e)}.bind(this),!1),document.addEventListener("focus",function(e){t&&!t.contains(e.target)&&(e.stopPropagation(),t.focus())},!0),t.addEventListener("keypress",function(t){13===t.keyCode&&this.close(e)}.bind(this),!1)}},{key:"close",value:function(e){if(null===e)return!0;var t=null;t&&clearTimeout(t),e.classList.add("mediabox-hide"),t=setTimeout(function(){var e=document.querySelector(".mediabox-wrap");null!==e&&(document.body.classList.remove("stop-scroll"),this.root.removeChild(e),this.lastFocusElement.focus())}.bind(this),500)}},{key:"template",value:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e=e.replace(new RegExp("{"+n+"}","g"),t[n]));return e}}]),e}())},"3bfb":function(e,t,n){"use strict";var o=n("71d5"),i=n.n(o);i.a},"4afc":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("b059"),n("619b3"),n("6e25"),n("a347");var o,i,a,s,r,c,l=n("2b0e"),u=n("283e"),p=n.n(u),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("main",[n("nav",[n("span",[e._v(" ")]),n("router-link",{class:{active:e.$route.name&&e.$route.name.match("megaregion")},attrs:{to:"/megaregion/introduction"},nativeOn:{click:function(t){e.routeClick("/megaregion/introduction")}}},[e._v("Megaregion")]),n("router-link",{class:{active:e.$route.name&&e.$route.name.match("watershed")},attrs:{to:"/watershed/acknowledgement"},nativeOn:{click:function(t){e.routeClick("/watershed/acknowledgement")}}},[e._v("Watershed")]),n("router-link",{class:{active:e.$route.name&&e.$route.name.match("bioregion")},attrs:{to:"/bioregion/introduction"},nativeOn:{click:function(t){e.routeClick("/bioregion/introduction")}}},[e._v("Bioregion")]),n("span",[e._v(" ")]),n("div",{attrs:{id:"aside-scroll-to",title:"Skip To Content"},on:{click:e.scrollToAside}},[n("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")])])],1),n("router-view",{attrs:{name:"map",id:"map"}})],1),n("AppNav"),n("aside",{class:{"no-flex":this.asideHidden}},[n("div",{attrs:{id:"aside-wraper"}},[n("div",{attrs:{id:"aside-toggle",title:"Toggle Content"},on:{click:e.toggleAside}},[e.asideHidden?n("i",{staticClass:"material-icons"},[e._v("menu")]):n("i",{staticClass:"material-icons"},[e._v("close")])]),n("p",{class:{hidden:this.asideHidden},attrs:{id:"aside-heading"}},[e._v("LEARNING FROM CASCADIA")])]),n("div",{ref:"asideContent",class:{hidden:this.asideHidden},attrs:{id:"content"}},[n("router-view")],1)])],1)},h=[],d=n("c93e"),g=n("2f62"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.asideHidden?e._e():n("div",[e.nav.items?n("div",{attrs:{id:"items"}},e._l(e.nav.items,function(t){return n("router-link",{key:t.name,staticClass:"btn",attrs:{to:t.href},nativeOn:{click:function(n){e.routeClick(t.href)}}},[e._v(e._s(t.name))])})):e._e(),e.navSubItems?n("div",{attrs:{id:"subItems"}},e._l(e.navSubItems,function(t){return n("router-link",{key:t.name,staticClass:"btn subItem",attrs:{to:t.href},nativeOn:{click:function(n){e.routeClick(t.href)}}},[e._v(e._s(t.name))])})):e._e()])},w=[],y=(n("7f7f"),{name:"AppNav",data:function(){return{nav:[],navSubItems:[],watershed:{items:[{name:"Remember",href:"/watershed/acknowledgement"},{name:"Introduction",href:"/watershed/introduction"},{name:"Terminals",href:"/watershed/terminals"},{name:"Dams",href:"/watershed/dams"},{name:"Hanford",href:"/watershed/hanford"}]},megaregion:{items:[{name:"Introduction",href:"/megaregion/introduction"},{name:"Vanport",href:"/megaregion/vanport"},{name:"Willamette",href:"/megaregion/willamette"},{name:"Energy",href:"/megaregion/energy"},{name:"Crops",href:"/megaregion/crops"}]},bioregion:{items:[{name:"Introduction",href:"/bioregion/introduction"},{name:"Salmon",href:"/bioregion/salmon"},{name:"Restoration",href:"/bioregion/restoration"},{name:"Dancing",href:"/bioregion/dancing"}]},subItems:{dams:[{name:"Falls",href:"/watershed/dams/falls"},{name:"Takedowns",href:"/watershed/dams/removal"}],hanford:[{name:"Legacy",href:"/watershed/hanford/legacy"},{name:"Plumes",href:"/watershed/hanford/plumes"},{name:"Floods",href:"/watershed/hanford/floods"}],vanport:[{name:"Vanport Mosaic",href:"/megaregion/vanport/mosaic"}],willamette:[{name:"Parallels",href:"/megaregion/willamette/drone"},{name:"Columbia Slough",href:"/megaregion/willamette/slough"}],crops:[{name:"Columbia Basin Project",href:"/megaregion/crops/basinproject"}],salmon:[{name:"Chinook",href:"/bioregion/salmon/chinook"},{name:"Coho",href:"/bioregion/salmon/coho"},{name:"Chum",href:"/bioregion/salmon/chum"},{name:"Sockeye",href:"/bioregion/salmon/sockeye"},{name:"Pink",href:"/bioregion/salmon/pink"}],dancing:[{name:"Children's Dance Caps",href:"/bioregion/dancing/caps"},{name:"ARROWHEAD",href:"/bioregion/dancing/arrowhead"}]}}},computed:Object(d["a"])({},Object(g["b"])(["asideHidden"])),watch:{$route:function(e,t){this.initNav()}},mounted:function(){this.initNav()},methods:{initNav:function(){/watershed/.test(this.$route.name)?this.nav=this.watershed:/megaregion/.test(this.$route.name)?this.nav=this.megaregion:/bioregion/.test(this.$route.name)?this.nav=this.bioregion:this.nav=[],/watershedDams/.test(this.$route.name)?this.navSubItems=this.subItems.dams:/watershedHanford/.test(this.$route.name)?this.navSubItems=this.subItems.hanford:/megaregionVanport/.test(this.$route.name)?this.navSubItems=this.subItems.vanport:/megaregionWillamette/.test(this.$route.name)?this.navSubItems=this.subItems.willamette:/megaregionCrops/.test(this.$route.name)?this.navSubItems=this.subItems.crops:/bioregionSalmon/.test(this.$route.name)?this.navSubItems=this.subItems.salmon:/bioregionRestoration/.test(this.$route.name)?this.navSubItems=this.subItems.restoration:/bioregionDancing/.test(this.$route.name)?this.navSubItems=this.subItems.dancing:this.navSubItems=[]},routeClick:function(e){e===this.$route.path&&Be.$emit("route-click")}}}),b=y,v=(n("e3a3"),n("2877")),k=Object(v["a"])(b,f,w,!1,null,"59ab426b",null),L=k.exports,x={name:"App",components:{AppNav:L},watch:{$route:function(e,t){document.querySelector("aside > #content").scrollTop=0}},computed:Object(d["a"])({},Object(g["b"])(["asideHidden"])),methods:{toggleAside:function(){this.$store.dispatch("toggle")},scrollToAside:function(){this.$refs.asideContent.scrollIntoView()},routeClick:function(e){e===this.$route.path&&Be.$emit("route-click")}}},P=x,j=(n("034f"),Object(v["a"])(P,m,h,!1,null,null,null)),S=j.exports,C=n("8c4f"),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aside-content"},[e._m(0),n("img",{staticClass:"fullwidth",attrs:{src:"images/falls.jpg"}}),n("div",{staticClass:"caption"},[e._v("first name still unknown")]),e._m(1),e._m(2),n("p",[e._v("All the land that is now called North America was inhabited for thousands of years before the European colonizers came. Now it's time to remember and to recognize the original inhabitants.")]),n("p",[e._v("Ancient tongues gave names to these hills, these mountains, these rivers, these waterfalls too, long in advance of modern English.")]),n("p",[e._v("In this atlas we will name many places, to tell stories about the Columbia River and Cascadia. But the first map names the Indigenous languages of this land, to give at least some idea of where they were spoken, and by whom.")]),n("p",[e._v("Are there foreign tongues in the place you call home? Is English a foreign tongue in the place you call home?")]),n("p",[e._v("The tragedies of colonization stole the languages from the land and left many of the traditions sleeping. Today we must remember war, plunder and millions of deaths from disease, along with ongoing prejudice, inequality and ecological devastation. Yet a great awakening is underway. Freed from within, by their own efforts, new generations of Indigenous people are finding the words of their ancestors, to revive intimate memories and accomplish an urgent transformation in the stewardship of the territory. It is this that deserves great respect.")]),n("p",[e._v("All whose forebears crossed the seas, or were forced to the crossing, can lend their hands to make a change in this new and dangerous era.")]),n("p",[e._v("Those who speak the modern tongues, may you learn to honor the ancient ones. Those who want to see the earth survive the long history of colonization, may you now raise your voices.")]),n("br"),n("Accordion",{attrs:{open:!1}},[n("h3",{attrs:{slot:"header"},slot:"header"},[e._v("sources of this map")]),n("div",{staticClass:"flex"},[n("p",[e._v("Language locations: "),n("a",{attrs:{href:"https://native-land.ca"}},[e._v("native-land.ca")]),e._v("."),n("br"),n("br"),e._v("Further information: "),n("a",{attrs:{href:"http://www.native-languages.org"}},[e._v("native-languages.org")]),e._v("."),n("br"),n("br"),e._v("World Physical Map: "),n("a",{attrs:{href:"http://server.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer"}},[e._v("Esri/US National Park Service")]),e._v(".")])])]),n("Accordion",{attrs:{open:!1}},[n("h3",{attrs:{slot:"header"},slot:"header"},[e._v("authorship of this atlas")]),n("div",{staticClass:"flex"},[n("p",[n("strong",[e._v("Brian Holmes")]),e._v(": concept, cartography, text"),n("br"),n("br"),n("strong",[e._v("Mack McFarland")]),e._v(": curation, outreach"),n("br"),n("br"),n("strong",[e._v("edward sharp")]),e._v(": programming in Vue"),n("br"),n("br"),n("strong",[e._v("Jodi Darby")]),e._v(": video interviews"),n("br"),n("br"),n("strong",[e._v("Claire Pentecost")]),e._v(": title")])])])],1)},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("h1",[e._v("Acknowledgement"),n("br"),e._v("of land and language")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("br"),n("audio",{attrs:{controls:""}},[n("source",{attrs:{src:"audio/Acknowledgement.mp3",type:"audio/mpeg"}}),e._v(" Your browser does not support the audio element.")]),n("br"),n("br")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("strong",[e._v("We begin with respect:")])])}],O=n("e711"),T=n("d54e"),M={name:"WatershedAcknowledgement",components:{Accordion:T["a"],AppLightBox:O["a"]},methods:{emit:function(e,t){Be.$emit(e,t)}}},B=M,H=(n("c504"),Object(v["a"])(B,R,_,!1,null,"39d5eabe",null)),V=H.exports,$=(n("ac6a"),n("8afe")),W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"map",attrs:{id:"map"}},[n("div",{ref:"vimeoPopup",staticClass:"ol-popup ol-vimeopopup"},[n("div",{ref:"vimeoPopupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),n("div",{ref:"vimeoPopupContent",staticClass:"ol-popup-content"})]),n("div",{ref:"twitterPopup",staticClass:"ol-popup ol-twitterpopup"},[n("div",{ref:"twitterpopupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),n("div",{staticClass:"ol-popup-twitter-content"},[n("div",{ref:"loadingTweets",staticClass:"twitter-loading hidden"},[e._v("Loading Tweets...")]),n("div",{ref:"twitterContent"})])]),n("div",{ref:"popup",staticClass:"ol-popup"},[n("div",{ref:"popupCloser",staticClass:"ol-popup-closer",on:{click:e.closePopup}}),n("div",{ref:"popupContent",staticClass:"ol-popup-content"})]),n("div",{ref:"titletip",staticClass:"titletip"},[n("div",{ref:"titletipContent",staticClass:"titletip-content"})]),n("div",{ref:"textitletip",staticClass:"textitletip"},[n("div",{ref:"textitletipContent",staticClass:"textitletip-content"})]),n("div",{ref:"mileagetitletip",staticClass:"mileagetitletip"},[n("div",{ref:"mileagetitletipContent",staticClass:"mileagetitletip-content"})]),n("div",{ref:"whitetitletip",staticClass:"whitetitletip"},[n("div",{ref:"whitetitletipContent",staticClass:"whitetitletip-content"})]),n("div",{ref:"salmontip",staticClass:"salmontip"},[n("div",{ref:"salmontipContent",staticClass:"salmontip-content"})]),n("div",{ref:"tooltip",staticClass:"ol-tooltip"})])},N=[],I=(n("a481"),n("5bc0"),n("0710")),A=n("5eee"),G=n("a2c7"),D=n("3e6b"),F=n("5831"),z=n("a2e1"),E=n("6c77"),J=n("6cbf"),Z=n("8682"),U=n("83a6"),K=n("8f3a"),Y=n("9d47"),Q=n("256f"),q={name:"Map",data:function(){return{olmap:void 0,styleCache:{}}},created:function(){Be.$on("set-map-view",this.setMapView)},beforeDestroy:function(){Be.$off("set-map-view",this.setMapView)},computed:Object(d["a"])({},Object(g["b"])(["asideHidden"]),{vimeoPopup:function(){return new I["a"]({element:this.$refs.vimeoPopup,offset:[10,0],positioning:"center-right",autoPan:!0,autoPanAnimation:{duration:250}})},twitterPopup:function(){return new I["a"]({element:this.$refs.twitterPopup,autoPan:!0,autoPanAnimation:{duration:250},positioning:"center-right"})},popup:function(){return new I["a"]({element:this.$refs.popup,autoPan:!0,autoPanAnimation:{duration:250}})},titletip:function(){return new I["a"]({element:this.$refs.titletip,offset:[10,0],positioning:"center-left"})},textitletip:function(){return new I["a"]({element:this.$refs.textitletip,offset:[10,0],positioning:"center-left"})},whitetitletip:function(){return new I["a"]({element:this.$refs.whitetitletip,offset:[10,0],positioning:"center-left"})},mileagetitletip:function(){return new I["a"]({element:this.$refs.mileagetitletip})},salmontip:function(){return new I["a"]({element:this.$refs.salmontip,offset:[10,0],positioning:"center"})},tooltip:function(){return new I["a"]({element:this.$refs.tooltip,offset:[10,0],positioning:"center-left"})}}),watch:{$route:function(e,t){this.closePopup(),this.initMap()},asideHidden:function(){this.olmap.updateSize(),this.toggleScaleLine()}},methods:{initMap:function(){},initBaseMap:function(){var e=this;this.olmap||(this.olmap=new A["a"]({target:"map",overlays:[this.twitterPopup,this.popup,this.titletip,this.textitletip,this.mileagetitletip,this.whitetitletip,this.salmontip,this.tooltip,this.vimeoPopup],controls:Object(K["a"])({attributionOptions:{collapsible:!0}}).extend([new Y["a"]({units:"us",minWidth:150})])}),this.toggleScaleLine(),this.olmap.on("singleclick",function(t){var n=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(n){var o=n.getProperties();o.title&&o.image&&o.text1?(e.$refs.popupContent.innerHTML="<h4>"+o.title+"</h4>",e.$refs.popupContent.innerHTML+=o.image?o.image.replace("cascadia/",""):"",e.$refs.popupContent.innerHTML+=o.text1+"<br>",e.$refs.popupContent.innerHTML+=o.text2?o.text2+"<br>":"",e.$refs.popupContent.innerHTML+=o.text3?o.text3+"<br>":"",e.popup.setPosition(t.coordinate),e.closeTooltip()):o.key2&&o.date&&o.City_County?(e.$refs.popupContent.innerHTML=o.key2?"<strong>".concat(o.key2,"</strong>"):"",e.$refs.popupContent.innerHTML+=o.River?"<br>".concat(o.River,"<br>"):"",e.$refs.popupContent.innerHTML+=o.date?" * * * *<br>Takedown date: ".concat(o.date,"<br>"):"",e.$refs.popupContent.innerHTML+=o.Dam_Height_ft?"Dam height in feet: ".concat(o.Dam_Height_ft,"<br>"):"",e.$refs.popupContent.innerHTML+=o.Year_Built?"Year built: ".concat(o.Year_Built,"<br>"):"",e.$refs.popupContent.innerHTML+=o.Original_Use?"Original use: ".concat(o.Original_Use,"<br>"):"",e.$refs.popupContent.innerHTML+=o.Type_Material?"Type of material: ".concat(o.Type_Material):"",e.popup.setPosition(t.coordinate)):o.key2?(e.$refs.popupContent.innerHTML=o.key2?"<strong>".concat(o.key2,"</strong><br>"):"",e.$refs.popupContent.innerHTML+=o.date?"<br>Built: ".concat(o.date):"",e.$refs.popupContent.innerHTML+=o.Date_idled?"<br>Idled: ".concat(o.Date_idled):"",e.$refs.popupContent.innerHTML+=o.NID_HEIGHT?"<br>Height: ".concat(o.NID_HEIGHT," ft"):"",e.$refs.popupContent.innerHTML+=o.wiki_entry?"<br>Wikipedia entry <a href='https://en.wikipedia.org/wiki/".concat(o.wiki_entry,"' target='_blank'>here</a>"):"",e.$refs.popupContent.innerHTML+=o.Cleanup_progress?"<br>Cleanup progress <a href='".concat(o.Cleanup_progress,"' target='_blank'>here</a>"):"",e.popup.setPosition(t.coordinate)):o.title?(e.$refs.popupContent.innerHTML=o.title,e.popup.setPosition(t.coordinate)):o.key?(e.$refs.popupContent.innerHTML=o.key,e.popup.setPosition(t.coordinate)):o.timeline?window.twttr&&(e.$refs.loadingTweets.classList.remove("hidden"),e.$refs.twitterContent.innerHTML="",window.twttr.widgets.createTimeline({sourceType:"url",url:o.timeline},e.$refs.twitterContent).then(function(){e.$refs.loadingTweets.classList.add("hidden")}),e.twitterPopup.setPosition(t.coordinate)):o.vimeoSrc}else e.closePopup()}),window.addEventListener("keydown",function(t){27===t.keyCode&&e.closePopup()}),window.addEventListener("resize",function(t){e.toggleScaleLine()}),this.olmap.on("pointermove",function(t){var n=e.olmap.getEventPixel(t.originalEvent),o=e.olmap.hasFeatureAtPixel(n);e.$refs.map.style.cursor=o?"pointer":""}))},closePopup:function(){return this.popup.setPosition(void 0),this.$refs.popupCloser.blur(),this.twitterPopup.setPosition(void 0),this.$refs.twitterpopupCloser.blur(),this.vimeoPopup.setPosition(void 0),this.$refs.vimeoPopupCloser.blur(),this.$refs.vimeoPopupContent.innerHTML="",!1},closeTitletip:function(){return this.titletip.setPosition(void 0),!1},closeTextitletip:function(){return this.textitletip.setPosition(void 0),!1},closeMileagetitletip:function(){return this.mileagetitletip.setPosition(void 0),!1},closeWhitetitletip:function(){return this.whitetitletip.setPosition(void 0),!1},closeSalmontip:function(){return this.salmontip.setPosition(void 0),!1},closeTooltip:function(){return this.tooltip.setPosition(void 0),!1},geoJSONPointVectorLayerStyle:function(e){return e.values_&&e.values_["icon"]&&!this.styleCache[e.values_["icon"]]&&(this.styleCache[e.values_["icon"]]=new E["b"]({image:new J["a"]({src:e.values_["icon"]||"icons/dam.png"})})),this.styleCache[e.values_["icon"]]},makeGeoJSONPointVectorLayerWithStyle:function(e,t,n,o,i){return new D["a"]({source:new F["a"]({url:e,format:new z["a"]}),minResolution:n,maxResolution:o,style:this.geoJSONPointVectorLayerStyle,label:t})},makeGeoJSONPointVectorLayer:function(e,t,n,o,i,a){return new D["a"]({source:new F["a"]({url:e,format:new z["a"]}),minResolution:o,maxResolution:i,style:new E["b"]({image:new J["a"]({src:t,opacity:void 0===a?1:a})}),label:n})},makeGeoJSONFillVectorLayer:function(e,t,n,o,i,a){return new D["a"]({source:new F["a"]({format:new z["a"],url:e}),minResolution:t,maxResolution:n,style:new E["b"]({stroke:new Z["a"]({color:o,width:i}),fill:new U["a"]({color:a})}),fill:a,fillColor:a})},makeGeoJSONLineVectorLayer:function(e,t,n,o,i){return new D["a"]({source:new F["a"]({format:new z["a"],url:e}),minResolution:t,maxResolution:n,style:new E["b"]({stroke:new Z["a"]({color:o,width:i})}),strokeColor:o})},toggleScaleLine:function(){this.asideHidden||window.innerWidth<850?document.querySelector(".ol-scale-line").classList.remove("hidden"):document.querySelector(".ol-scale-line").classList.add("hidden")},setMapView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.center&&(t["center"]=Object(Q["c"])(e["center"])),e.resolution&&(t["resolution"]=e.resolution),e.minResolution?t["minResolution"]=e.minResolution:t["minResolution"]=1,e.maxResolution?t["maxResolution"]=e.maxResolution:t["maxResolution"]=16e3,this.olmap.setView(new G["a"](t))}}},X=q,ee=Object(v["a"])(X,W,N,!1,null,null,null),te=ee.exports,ne=n("480c"),oe=n("9c78"),ie=n("2ef1"),ae=n("ca42"),se=n("8295"),re=n("35a7"),ce={name:"MapWatershed",extends:te,data:function(){return{centerPoints:{acknowledgement:{center:[-121.36,47.7],resolution:2e3},introductionwater:{center:[-120.4,46.6],resolution:750},introductionbio:{center:[-121.2,51],resolution:4500},terminals:{center:[-122.9,45.8],resolution:220},hanford1:{center:[-119.54,46.692],resolution:4},legacy:{center:[-119.529,46.555],resolution:6},floods:{center:[-119.605,46.605],resolution:54},plumes:{center:[-119.605,46.605],resolution:54},stopit:{center:[-122.68,45.84],resolution:220},dams:{center:[-119.9,46.9],resolution:1e3},transformation:{center:[-119.9,46.9],resolution:1e3},removal:{center:[-119.9,46.9],resolution:1e3}},WatershedDamsIsAnimating:!0,didSetSingleclickEvent:!1,listenerKeys:[],animTimeouts:[]}},computed:{acknowledgementLayers:function(){return[new ne["a"]({source:new ie["a"]({url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}.png"}),opacity:1,minResolution:5}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:2}),new ne["a"]({source:new ie["a"]({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"}),opacity:.7,minResolution:2,maxResolution:8}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Languages/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3})]},watershedBaseLayers:function(){return[new ne["a"]({source:new ie["a"]({url:"https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}"}),opacity:.9,minResolution:2,maxResolution:16e3}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Columbia/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3}),new ne["a"]({source:new ie["a"]({url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}"}),opacity:.7,minResolution:1,maxResolution:8})]},watershedTerminalsLayers:function(){return Object($["a"])(this.watershedBaseLayers).concat([this.makeGeoJSONPointVectorLayer("geojson/stopped.geojson","icons/stop.png",null,2,32e3),this.makeGeoJSONPointVectorLayer("geojson/planned.geojson","icons/stopit.png",null,2,32e3)])},watershedDamsLayers:function(){return Object($["a"])(this.watershedBaseLayers).concat([this.makeGeoJSONPointVectorLayerWithStyle("geojson/watershedDamsAll.geojson",null,2,32e3,1)])},watershedDamsFallsLayers:function(){return Object($["a"])(this.watershedBaseLayers).concat([this.makeGeoJSONPointVectorLayer("geojson/Falls/Celilo.geojson","images/Falls/Celilo.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/KettleFalls.geojson","images/Falls/KettleFalls.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/PriestRapids.geojson","images/Falls/PriestRapids.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/UmatillaRapids.geojson","images/Falls/UmatillaRapids.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/SpokaneFalls.geojson","images/Falls/SpokaneFalls.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/WillametteFalls.geojson","images/Falls/WillametteFalls.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/Cascades.geojson","images/Falls/CascadesRapids.png",null,2,32e3,1)])},watershedDamsRemovalLayers:function(){return Object($["a"])(this.watershedBaseLayers).concat([this.makeGeoJSONPointVectorLayerWithStyle("geojson/watershedDamsRemoval.geojson",null,2,32e3,1)])},watershedHanfordLayers:function(){return Object($["a"])(this.watershedBaseLayers).concat([new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:160})])},watershedHandfordLegacyLayers:function(){return Object($["a"])(this.watershedBaseLayers).concat([new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:80}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Leaks/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:80}),this.makeGeoJSONFillVectorLayer("geojson/HanfordLabels.geojson",1,80,"rgba(60, 20, 20, 0.0)",2,"rgba(255, 255, 0, 0.0)")])},watershedHanfordPlumesLayers:function(){return Object($["a"])(this.watershedBaseLayers).concat([new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:80}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/HanfordPlumes/{z}/{x}/{y}.png"}),opacity:.8,minResolution:1,maxResolution:80})])},watershedHanfordFloodsLayers:function(){return Object($["a"])(this.watershedBaseLayers).concat([new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/HanfordPlumes/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:80}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Floods/{z}/{x}/{y}.png"}),opacity:.7,minResolution:2,maxResolution:16e3})])}},created:function(){Be.$on("route-click",this.initMap)},beforeDestroy:function(){Be.$off("route-click",this.initMap)},mounted:function(){this.initMap()},methods:{initMap:function(){var e=this;switch(this.WatershedDamsIsAnimating=!0,this.$route.name){case"watershedAcknowledgement":this.initWatershedAcknowledgement();break;case"watershedIntroduction":this.initWatershedIntroduction();break;case"watershedTerminals":this.initWatershedTerminals();break;case"watershedDams":this.initWatershedDams();break;case"watershedDamsFalls":this.initWatershedDamsFalls();break;case"watershedDamsRemoval":this.initWatershedDamsRemoval();break;case"watershedHanford":this.initWatershedHanford();break;case"watershedHanfordLegacy":this.initWatershedHanfordLegacy();break;case"watershedHanfordPlumes":this.initWatershedHanfordPlumes();break;case"watershedHanfordFloods":this.initWatershedHanfordFloods();break;default:this.initWatershedAcknowledgement()}this.olmap.on("pointermove",function(t){var n=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(n){var o=n.getProperties();o.key&&(e.$refs.titletipContent.innerHTML=o.key,e.titletip.setPosition(t.coordinate))}else e.closeTitletip(),e.closeTooltip()})},initWatershedAcknowledgement:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.acknowledgementLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.acknowledgement.center),resolution:this.centerPoints.acknowledgement.resolution,minResolution:40,maxResolution:32e3}))},initWatershedIntroduction:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.watershedBaseLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.introductionwater.center),resolution:this.centerPoints.introductionwater.resolution,minResolution:2,maxResolution:2e3}))},initWatershedTerminals:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.watershedTerminalsLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.terminals.center),resolution:this.centerPoints.terminals.resolution,minResolution:2}))},initWatershedDams:function(){var e=this;this.initBaseMap();var t=Object($["a"])(this.watershedBaseLayers).concat([this.makeGeoJSONPointVectorLayer("geojson/watershedDamsTransformation.geojson","icons/damOther.png",null,2,32e3,0)]);this.WatershedDamsIsAnimating&&t[3].getSource().on("addfeature",function(t){if(!isNaN(parseInt(t.feature.values_["id"]))){var n=setTimeout(function(){e.flash(t.feature)},1e3*parseInt(t.feature.values_["id"]));e.animTimeouts.push(n)}}),this.didSetSingleclickEvent||(this.olmap.on("singleclick",function(t){"WatershedDams"===e.$route.name&&e.WatershedDamsIsAnimating&&(e.WatershedDamsIsAnimating=!1,e.listenerKeys.forEach(function(e){Object(re["b"])(e)}),e.animTimeouts.forEach(function(e){clearTimeout(e)}),e.olmap.setLayerGroup(new oe["a"]({layers:e.WatershedDamsLayers})))}),this.didSetSingleclickEvent=!0),this.olmap.setLayerGroup(new oe["a"]({layers:t})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.transformation.center),resolution:this.centerPoints.transformation.resolution,minResolution:2}))},initWatershedDamsFalls:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.watershedDamsFallsLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.dams.center),resolution:this.centerPoints.dams.resolution,minResolution:2}))},initWatershedDamsRemoval:function(){var e=this;this.initBaseMap();var t=Object($["a"])(this.watershedBaseLayers).concat([this.makeGeoJSONPointVectorLayer("geojson/watershedDamsRemoval.geojson","icons/damOther.png",null,2,32e3,0)]);this.WatershedDamsIsAnimating&&t[3].getSource().on("addfeature",function(t){if(!isNaN(parseInt(t.feature.values_["id"]))){var n=setTimeout(function(){e.flash(t.feature)},600*parseInt(t.feature.values_["id"]));e.animTimeouts.push(n)}}),this.didSetSingleclickEvent||(this.olmap.on("singleclick",function(t){"WatershedDamsRemoval"===e.$route.name&&e.WatershedDamsIsAnimating&&(e.WatershedDamsIsAnimating=!1,e.listenerKeys.forEach(function(e){Object(re["b"])(e)}),e.animTimeouts.forEach(function(e){clearTimeout(e)}),e.olmap.setLayerGroup(new oe["a"]({layers:e.WatershedDamsLayers})))}),this.didSetSingleclickEvent=!0),this.olmap.setLayerGroup(new oe["a"]({layers:t})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.removal.center),resolution:this.centerPoints.removal.resolution,minResolution:2}))},initWatershedHanford:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.watershedHanfordLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.hanford1.center),resolution:this.centerPoints.hanford1.resolution,minResolution:1}))},initWatershedHanfordLegacy:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.watershedHandfordLegacyLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.legacy.center),resolution:this.centerPoints.legacy.resolution,minResolution:1}))},initWatershedHanfordPlumes:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.watershedHanfordPlumesLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.plumes.center),resolution:this.centerPoints.plumes.resolution,minResolution:1}))},initWatershedHanfordFloods:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.watershedHanfordFloodsLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.floods.center),resolution:this.centerPoints.floods.resolution,minResolution:2}))},flash:function(e){var t=this,n=e.values_["key2"]||"",o=e.values_["date"]||"",i=e.values_["icon"]||"",a=(new Date).getTime(),s=this.olmap.on("postcompose",function(r){var c=2500,l=r.frameState.time-a,u=l/c,p=Object(ae["b"])(1-u);e.setStyle([new E["b"]({text:new se["a"]({text:n,fill:new U["a"]({color:[255,255,255,p]}),stroke:new Z["a"]({color:[0,0,0,p]}),backgroundFill:new Z["a"]({color:[0,0,0,p/6]}),scale:1.9,offsetY:-7})}),new E["b"]({text:new se["a"]({text:o,fill:new U["a"]({color:[255,255,255,p]}),stroke:new Z["a"]({color:[0,0,0,p]}),backgroundFill:new Z["a"]({color:[0,0,0,p/3]}),scale:2,offsetY:20})}),new E["b"]({image:new J["a"]({src:i,opacity:1})})]),l>c?Object(re["b"])(s):t.olmap.render()});this.listenerKeys.push(s)}}},le=ce,ue=Object(v["a"])(le,o,i,!1,null,null,null),pe=ue.exports,me=n("a226"),he=n("a7a4"),de=n("3194"),ge={name:"MapMegaregion",extends:te,data:function(){return{centerPoints:{introductionmetro:{center:[-122.4,45.564222],resolution:200},vanport:{center:[-122.7,45.601],resolution:3},slough:{center:[-122.73,45.618],resolution:11},willamette:{center:[-122.718,45.588],resolution:22},energy:{center:[-120.1,47.1],resolution:798},crops:{center:[-119.9,46.49],resolution:700},coulee:{center:[-118.989,47.948],resolution:6},basin:{center:[-119.4,47],resolution:140}},radius:300,mousePosition:void 0}},computed:{baseLayers:function(){var e=this,t=new ne["a"]({source:new me["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:10});return t.on("precompose",function(t){e.spyglass(t)}),t.on("postcompose",function(e){e.context.restore()}),[new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_CityLights_2012/default/GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg"}),minResolution:800,maxZoom:21}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:40,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minResolution:20,maxResolution:799,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ne["a"]({source:new ie["a"]({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/Coastlines/default/GoogleMapsCompatible_Level9/{z}/{y}/{x}.png"}),minResolution:200,maxZoom:21}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/PDX-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:1600}),new ne["a"]({title:"OpenRailwayMap",visible:!0,minResolution:40,opacity:1,source:new ie["a"]({url:"https://{a-c}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",crossOrigin:null,tilePixelRatio:2,maxZoom:21,opaque:!1,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0})}),new ne["a"]({minResolution:20,opacity:1,source:new ie["a"]({tileUrlFunction:function(t,n,o){var i=t[0],a=t[1],s=-t[2]-1;return"https://t0.tiles.virtualearth.net/tiles/t"+e.computeQuadKey(a,s,i)+".jpg"}}),maxZoom:17,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new D["a"]({source:new F["a"]({format:new z["a"],url:"geojson/USmegaregions2.geojson"}),minResolution:1600,maxResolution:8e3,style:new E["b"]({stroke:new Z["a"]({width:.5,color:"rgba(255, 255, 255, 0.8)"}),fill:new U["a"]({color:"rgba(255, 255, 255, 0.3)"})})}),t]},vanportLayers:function(){return[new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:.4,minZoom:11,maxZoom:20}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/PDX-new/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20}),this.makeGeoJSONFillVectorLayer("geojson/VanUnderlayer.geojson",.25,160,"rgba(0,0,0, 0.99)",1,"rgba(0,0,0, 0.99)"),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Vanport/{z}/{x}/{y}.png"}),opacity:1,minZoom:7,maxZoom:20}),this.makeGeoJSONPointVectorLayer("geojson/Breach.geojson","icons/Breach.png",null,1,2e3)]},mosaicLayers:function(){return[new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:.4,minZoom:11,maxZoom:20}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/PDX-new/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20}),this.makeGeoJSONFillVectorLayer("geojson/VanUnderlayer.geojson",.25,160,"rgba(0,0,0, 0.99)",1,"rgba(0,0,0, 0.99)"),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Vanport/{z}/{x}/{y}.png"}),opacity:1,minZoom:7,maxZoom:20}),this.makeGeoJSONPointVectorLayer("geojson/VanportMosaic.geojson","icons/Mosaic.png",null,1,2e3)]},willametteLayers:function(){var e=this,t=new ne["a"]({source:new me["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:.125,maxResolution:1});return t.on("precompose",function(t){e.spyglass(t)}),t.on("postcompose",function(e){e.context.restore()}),[new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Willamette2/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20}),this.makeGeoJSONFillVectorLayer("geojson/UplandHighPriority.geojson",.5,23,"rgba(190, 141, 143, 0)",1,"rgba(209, 4, 4, 0)"),this.makeGeoJSONFillVectorLayer("geojson/UplandMedPriority.geojson",.5,23,"rgba(190, 141, 143, 0)",1,"rgba(209, 4, 4, 0)"),this.makeGeoJSONFillVectorLayer("geojson/UplandLowPriority.geojson",.5,23,"rgba(190, 141, 143, 0)",1,"rgba(209, 4, 4, 0"),this.makeGeoJSONFillVectorLayer("geojson/UplandNoPriority.geojson",.5,23,"rgba(190, 141, 143, 0)",1,"rgba(209, 4, 4, 0)"),this.makeGeoJSONFillVectorLayer("geojson/EnhancedNaturalRecovery.geojson",.5,16,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/DredgeWithCap.geojson",.5,16,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/DredgeFMD.geojson",.5,16,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/Dredge.geojson",.5,16,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/ContaminatedBanks.geojson",.5,16,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/Cap.geojson",.5,16,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/MCormick&BaxterCap2005.geojson",.5,16,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),t]},droneLayers:function(){var e=this,t=new ne["a"]({source:new me["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:.25,maxResolution:1});return t.on("precompose",function(t){e.spyglass(t)}),t.on("postcompose",function(e){e.context.restore()}),[new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Willamette/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20}),this.makeGeoJSONFillVectorLayer("geojson/Upland_Sites.geojson",.5,40,"rgba(185, 12, 14, 0.70)",.5,"rgba(185, 12, 14, 0.4)"),t,this.makeGeoJSONPointVectorLayer("geojson/Drone.geojson","icons/Drone.png",null,1,8e3)]},sloughLayers:function(){return[new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Slough/{z}/{x}/{y}.png"}),opacity:1,minZoom:7,maxZoom:20})]},energyLayers:function(){return Object($["a"])(this.baseLayers).concat([new D["a"]({source:new F["a"]({format:new z["a"],url:"geojson/BPA2.geojson"}),minResolution:80,maxResolution:8e3,style:new E["b"]({stroke:new Z["a"]({width:4,color:"rgba(0, 0, 225, 0.8)",lineDash:[8,16],lineDashOffset:12})})}),this.makeGeoJSONPointVectorLayer("geojson/CascadiaHydro2.geojson","icons/dam.png","Hydro power",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaNuclear.geojson","icons/nukes.gif","Nuclear power",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaWind.geojson","icons/wind.png","Wind Power",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaNatGas.geojson","icons/natgas.png","Natural Gas",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaCoal.geojson","icons/coal.png","Coal Power",2,4e3)])},cropsLayers:function(){return[new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3})]},basinProjectLayers:function(){var e=this,t=new ne["a"]({source:new me["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:10});return t.on("precompose",function(t){e.spyglass(t)}),t.on("postcompose",function(e){e.context.restore()}),[new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:16e3}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:.3,minResolution:2,maxResolution:16e3}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/CBP/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3}),this.makeGeoJSONFillVectorLayer("geojson/CBP-Crops.geojson",2,181,"rgba(189, 7, 97, 0)",0,"rgba(189, 7, 97, 0)"),t]}},components:{VideoLightBox:he["a"]},created:function(){Be.$on("route-click",this.initMap)},beforeDestroy:function(){Be.$off("route-click",this.initMap)},mounted:function(){var e=this;this.initMap(),window.addEventListener("keydown",function(t){38===t.keyCode?(e.radius=Math.min(e.radius+5,800),e.olmap.render()):40===t.keyCode&&(e.radius=Math.max(e.radius-5,0),e.olmap.render())}),this.olmap.on("pointermove",function(t){var n=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(n){var o=n.getProperties();o.CropGroup&&o.key?(e.$refs.titletipContent.innerHTML=o.key,e.titletip.setPosition(t.coordinate)):o.title&&o.image?(e.$refs.tooltip.innerHTML=o.image.replace("cascadia/",""),e.$refs.tooltip.innerHTML+="<div>"+o.title+"</div>",e.tooltip.setPosition(t.coordinate)):o.key3?(e.$refs.textitletipContent.innerHTML=o.key3,e.textitletip.setPosition(t.coordinate)):o.key6?(e.$refs.whitetitletipContent.innerHTML=o.key6,e.whitetitletip.setPosition(t.coordinate)):o.key5&&(e.$refs.titletipContent.innerHTML=o.key5,e.titletip.setPosition(t.coordinate))}else e.closeTitletip(),e.closeTooltip(),e.closeTextitletip(),e.closeWhitetitletip();e.mousePosition=e.olmap.getEventPixel(t.originalEvent),e.olmap.render()})},methods:{initMap:function(){switch(this.$route.name){case"megaregionIntroduction":this.initMegaregionIntroduction();break;case"megaregionVanport":this.initMegaregionVanport();break;case"megaregionVanportMosaic":this.initMegaregionVanportMosaic();break;case"megaregionWillamette":this.initMegaregionWillamette();break;case"megaregionWillametteDrone":this.initMegaregionWillametteDrone();break;case"megaregionWillametteSlough":this.initMegaregionWillametteSlough();break;case"megaregionEnergy":this.initMegaregionEnergy();break;case"megaregionCrops":this.initMegaregionCrops();break;case"megaregionCropsBasinProject":this.initmegaregionCropsBasinProject();break;default:}},initMegaregionIntroduction:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.baseLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.introductionmetro.center),resolution:this.centerPoints.introductionmetro.resolution,minResolution:1,maxResolution:32e3}))},initMegaregionVanport:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.vanportLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.vanport.center),resolution:this.centerPoints.vanport.resolution,minZoom:11,maxZoom:19,rotation:-.41}))},initMegaregionVanportMosaic:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.mosaicLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.vanport.center),resolution:this.centerPoints.vanport.resolution,minZoom:11,maxZoom:19,rotation:-.41})),this.olmap&&this.olmap.on("singleclick",function(t){var n=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(n){var o=n.getProperties();if(o.vimeoSrc){var i=new de["a"](o.vimeoSrc);i.open()}}})},initMegaregionWillamette:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.willametteLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.willamette.center),resolution:this.centerPoints.willamette.resolution,minZoom:9,maxZoom:20}))},initMegaregionWillametteDrone:function(){var e=this;this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.droneLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.willamette.center),resolution:this.centerPoints.willamette.resolution,minZoom:11,maxZoom:19})),this.olmap&&this.olmap.on("singleclick",function(t){var n=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(n){var o=n.getProperties();if(o.vimeoSrc){var i=new de["a"](o.vimeoSrc);i.open()}}})},initMegaregionWillametteSlough:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.sloughLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.slough.center),resolution:this.centerPoints.slough.resolution,minZoom:11,maxZoom:19}))},initMegaregionEnergy:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.energyLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.energy.center),resolution:this.centerPoints.energy.resolution,minResolution:1,maxResolution:4e3}))},initMegaregionCrops:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.cropsLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.crops.center),resolution:this.centerPoints.crops.resolution,minResolution:2,maxResolution:2e3}))},initmegaregionCropsBasinProject:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.basinProjectLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.basin.center),resolution:this.centerPoints.basin.resolution,minResolution:2,maxResolution:2e3}))},computeQuadKey:function(e,t,n){for(var o=[],i=n;i>0;i--){var a=0,s=1<<i-1;0!==(e&s)&&a++,0!==(t&s)&&(a+=2),o.push(a)}return o.join("")},spyglass:function(e){var t=e.context,n=e.frameState.pixelRatio;t.save(),t.beginPath(),this.mousePosition&&(t.arc(this.mousePosition[0]*n,this.mousePosition[1]*n,this.radius*n,0,2*Math.PI),t.lineWidth=5*n,t.strokeStyle="rgba(0,0,0,0.5)",t.stroke()),t.clip()}}},fe=ge,we=(n("ec7a"),Object(v["a"])(fe,a,s,!1,null,null,null)),ye=we.exports,be=n("bcc5"),ve=n.n(be),ke=n("595c"),Le=0,xe={name:"MapBioregion",extends:te,data:function(){return{centerPoints:{introductionbio:{center:[-125.8,51],resolution:4500},salmon:{center:[-119.9,45.9],resolution:1e3},chinook:{center:[-115.5,44.529633],resolution:560},coho:{center:[-122.28,45.55],resolution:300},chum:{center:[-122.9,47.8],resolution:400},sockeye:{center:[-122.1,47.3],resolution:700},transformation:{center:[-118,45.6],resolution:1200},pink:{center:[-122.9,47.8],resolution:450},restoration:{center:[-117.344,45.4415],resolution:1.9},dancing:{center:[-121.9,45.35],resolution:780},caps:{center:[-122.76,45.53],resolution:42},arrowhead:{center:[-124.05,46.33],resolution:44}},bioregionDancingIsAnimating:!0,didSetSingleclickEvent:!1,listenerKeys:[],animTimeouts:[],radius:150,mousePosition:void 0,colors:[]}},computed:{baseLayers:function(){return[new ne["a"]({source:new ie["a"]({url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}.png"}),opacity:.9,minResolution:5}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:5}),new ne["a"]({source:new ie["a"]({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"}),opacity:.7,minResolution:2,maxResolution:16})]},bioregionBaseLayers:function(){return Object($["a"])(this.baseLayers)},salmonLayers:function(){return Object($["a"])(this.baseLayers).concat([new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/CriticalHabitat/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:1200})])},chinookLayers:function(){return Object($["a"])(this.baseLayers).concat([this.makeGeoJSONLineVectorLayer("geojson/Chinook.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)])},cohoLayers:function(){return Object($["a"])(this.baseLayers).concat([this.makeGeoJSONLineVectorLayer("geojson/Coho.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)])},chumLayers:function(){return Object($["a"])(this.baseLayers).concat([this.makeGeoJSONLineVectorLayer("geojson/Chum.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)])},sockeyeLayers:function(){return Object($["a"])(this.baseLayers).concat([this.makeGeoJSONLineVectorLayer("geojson/Sockeye.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)])},pinkLayers:function(){return Object($["a"])(this.baseLayers).concat([this.makeGeoJSONLineVectorLayer("geojson/Pink.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)])},restorationLayers:function(){var e=this,t=new ne["a"]({preload:1/0,source:new ie["a"]({url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSHydroCached/MapServer/tile/{z}/{y}/{x}"}),minResolution:1,maxResolution:4});return t.on("precompose",function(t){e.spyglass(t)}),t.on("postcompose",function(e){e.context.restore()}),Object($["a"])(this.baseLayers).concat([new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Wallowa/{z}/{x}/{y}.png"}),opacity:1,minResolution:.125,maxResolution:80}),t])},dancingLayers:function(){return Object($["a"])(this.baseLayers)},capsLayers:function(){return[new ne["a"]({source:new ie["a"]({url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}.png"}),opacity:.9,minResolution:10}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:2}),new ne["a"]({source:new me["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),opacity:.2,minResolution:2,maxResolution:10}),new ne["a"]({source:new ie["a"]({url:"https://api.mapbox.com/styles/v1/bkholmes/cjr6z7svt00n82rqm1y3igze4/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYmtob2xtZXMiLCJhIjoiNjlkYjI4MDUyYTRlZWEyYzkwYTdmOTgxNmMzOGYwMTUifQ.VSUo52PYOUzS60NR6jqXTw"}),opacity:1,minResolution:2,maxResolution:400}),new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Mileage2/{z}/{x}/{y}.png"}),opacity:1,minResolution:12})]},arrowheadLayers:function(){return[new ne["a"]({preload:1/0,source:new ie["a"]({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:399}),new ne["a"]({source:new me["a"]({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:400}),this.makeGeoJSONPointVectorLayerWithStyle("geojson/Deconstruction.geojson",null,2,32e3,1)]}},created:function(){Be.$on("route-click",this.initMap)},beforeDestroy:function(){Be.$off("route-click",this.initMap)},mounted:function(){var e=this;this.initMap(),this.colors=ke({colormap:"portland",nshades:32,format:"hex",alpha:1}),window.addEventListener("keydown",function(t){38===t.keyCode?(e.radius=Math.min(e.radius+5,800),e.olmap.render()):40===t.keyCode&&(e.radius=Math.max(e.radius-5,0),e.olmap.render())}),this.olmap.on("pointermove",function(t){var n=e.olmap.forEachFeatureAtPixel(t.pixel,function(e){return e});if(n){var o=n.getProperties();o.CropGroup&&o.key?(e.$refs.titletipContent.innerHTML=o.key,e.titletip.setPosition(t.coordinate)):o.image&&o.icon?(e.$refs.whitetitletipContent.innerHTML=o.image,e.whitetitletip.setPosition(t.coordinate)):o.title&&o.image?(e.$refs.tooltip.innerHTML=o.image.replace("cascadia/",""),e.$refs.tooltip.innerHTML+="<div>"+o.title+"</div>",e.tooltip.setPosition(t.coordinate)):o.key4&&(e.$refs.textitletipContent.innerHTML=o.key4,e.textitletip.setPosition(t.coordinate))}else e.closeTitletip(),e.closeTooltip(),e.closeTextitletip(),e.closeWhitetitletip();e.mousePosition=e.olmap.getEventPixel(t.originalEvent),e.olmap.render()})},methods:{initMap:function(){switch(this.bioregionDancingIsAnimating=!0,this.$route.name){case"bioregionIntroduction":this.initBioregionIntro();break;case"bioregionSalmon":this.initBioregionSalmon();break;case"bioregionSalmonChinook":this.initBioregionSalmonChinook();break;case"bioregionSalmonCoho":this.initBioregionSalmonCoho();break;case"bioregionSalmonChum":this.initBioregionSalmonChum();break;case"bioregionSalmonSockeye":this.initBioregionSalmonSockeye();break;case"bioregionSalmonPink":this.initBioregionSalmonPink();break;case"bioregionRestoration":this.initBioregionRestoration();break;case"bioregionDancing":this.initBioregionDancing();break;case"bioregionDancingCaps":this.initBioregionDancingCaps();break;case"bioregionDancingArrowhead":this.initBioregionDancingArrowhead();break;default:this.initBioregionIntro()}},initBioregionIntro:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.bioregionBaseLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.introductionbio.center),resolution:this.centerPoints.introductionbio.resolution,minResolution:8,maxResolution:8e3}))},initBioregionSalmon:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.salmonLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.salmon.center),resolution:this.centerPoints.salmon.resolution,minResolution:11,maxResolution:8e3}))},initBioregionSalmonChinook:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.chinookLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.chinook.center),resolution:this.centerPoints.chinook.resolution,minResolution:10,maxResolution:8e3}))},initBioregionSalmonCoho:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.cohoLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.coho.center),resolution:this.centerPoints.coho.resolution,minResolution:10,maxResolution:8e3}))},initBioregionSalmonChum:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.chumLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.chum.center),resolution:this.centerPoints.chum.resolution,minResolution:10,maxResolution:8e3}))},initBioregionSalmonSockeye:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.sockeyeLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.sockeye.center),resolution:this.centerPoints.sockeye.resolution,minResolution:10,maxResolution:8e3}))},initBioregionSalmonPink:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.pinkLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.pink.center),resolution:this.centerPoints.pink.resolution,minResolution:10,maxResolution:8e3}))},initBioregionRestoration:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.restorationLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.restoration.center),resolution:this.centerPoints.restoration.resolution,minResolution:.125,maxResolution:8e3}))},initBioregionDancing:function(){var e=this;this.initBaseMap();var t=Object($["a"])(this.baseLayers).concat([this.makeGeoJSONLineVectorLayer("geojson/Mileage.geojson",10,4e3,"rgba(255, 0, 0, 0)",4)]);this.bioregionDancingIsAnimating&&t[3].getSource().on("addfeature",function(t){if(!isNaN(parseInt(t.feature.values_["id"]))){var n=setTimeout(function(){e.flash(t.feature)},1800*parseInt(t.feature.values_["id"]));e.animTimeouts.push(n)}}),this.olmap.setLayerGroup(new oe["a"]({layers:t})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.dancing.center),resolution:this.centerPoints.dancing.resolution,minResolution:2}))},initBioregionDancingCaps:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.capsLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.caps.center),resolution:this.centerPoints.caps.resolution,minResolution:2,maxResolution:8e3}))},initBioregionDancingArrowhead:function(){this.initBaseMap(),this.olmap.setLayerGroup(new oe["a"]({layers:this.arrowheadLayers})),this.olmap.setView(new G["a"]({center:Object(Q["c"])(this.centerPoints.arrowhead.center),resolution:this.centerPoints.arrowhead.resolution,minResolution:2,maxResolution:8e3}))},spyglass:function(e){var t=e.context,n=e.frameState.pixelRatio;t.save(),t.beginPath(),this.mousePosition&&(t.arc(this.mousePosition[0]*n,this.mousePosition[1]*n,this.radius*n,0,2*Math.PI),t.lineWidth=2*n,t.strokeStyle="rgba(0,0,0,0.4)",t.stroke()),t.clip()},flash:function(e){var t=this,n=e.values_["title"]||"",o=e.values_["date"]||"",i=e.values_["route"]||"",a=e.values_["purpose"]||"",s=(new Date).getTime();Le=(Le+1)%32;var r=Le;this.olmap.on("postcompose",function(c){var l=1800,u=c.frameState.time-s,p=u/l;Object(ae["b"])(1.2-p);ve()("div.mapInfo-section1").text(n),ve()("div.mapInfo-section2").text(o),ve()("div.mapInfo-section3").text(i),ve()("div.mapInfo-section4").text(a),e.setStyle([new E["b"]({stroke:new Z["a"]({color:t.colors[r],width:3.8})})])})}}},Pe=xe,je=Object(v["a"])(Pe,r,c,!1,null,null,null),Se=je.exports;l["a"].use(C["a"]);var Ce=new C["a"]({routes:[{path:"/",redirect:"/watershed/acknowledgement"},{path:"/watershed/acknowledgement",name:"watershedAcknowledgement",components:{default:V,map:pe}},{path:"/watershed/introduction",name:"watershedIntroduction",components:{default:function(){return n.e("chunk-27f7").then(n.bind(null,"9949"))},map:pe}},{path:"/watershed/terminals",name:"watershedTerminals",components:{default:function(){return n.e("chunk-2abc").then(n.bind(null,"869f9"))},map:pe}},{path:"/watershed/dams",name:"watershedDams",components:{default:function(){return n.e("chunk-6ad0").then(n.bind(null,"e2ad"))},map:pe}},{path:"/watershed/dams/falls",name:"watershedDamsFalls",components:{default:function(){return n.e("chunk-05d4").then(n.bind(null,"7ce2"))},map:pe}},{path:"/watershed/dams/removal",name:"watershedDamsRemoval",components:{default:function(){return n.e("chunk-52af").then(n.bind(null,"fc0a"))},map:pe}},{path:"/watershed/hanford",name:"watershedHanford",components:{default:function(){return n.e("chunk-2f09").then(n.bind(null,"969e"))},map:pe}},{path:"/watershed/hanford/legacy",name:"watershedHanfordLegacy",components:{default:function(){return n.e("chunk-229b").then(n.bind(null,"fc1f"))},map:pe}},{path:"/watershed/hanford/plumes",name:"watershedHanfordPlumes",components:{default:function(){return n.e("chunk-0fc4").then(n.bind(null,"6a51"))},map:pe}},{path:"/watershed/hanford/floods",name:"watershedHanfordFloods",components:{default:function(){return n.e("chunk-d6f8").then(n.bind(null,"8628"))},map:pe}},{path:"/megaregion/introduction",name:"megaregionIntroduction",components:{default:function(){return n.e("chunk-4ec2").then(n.bind(null,"5e0b"))},map:ye}},{path:"/megaregion/vanport",name:"megaregionVanport",components:{default:function(){return n.e("chunk-2c82").then(n.bind(null,"582f"))},map:ye}},{path:"/megaregion/vanport/mosaic",name:"megaregionVanportMosaic",components:{default:function(){return n.e("chunk-ab6f").then(n.bind(null,"9a46"))},map:ye}},{path:"/megaregion/willamette",name:"megaregionWillamette",components:{default:function(){return n.e("chunk-2ef9").then(n.bind(null,"9d7b"))},map:ye}},{path:"/megaregion/willamette/drone",name:"megaregionWillametteDrone",components:{default:function(){return n.e("chunk-a29f").then(n.bind(null,"8fbc"))},map:ye}},{path:"/megaregion/willamette/slough",name:"megaregionWillametteSlough",components:{default:function(){return n.e("chunk-a561").then(n.bind(null,"550e"))},map:ye}},{path:"/megaregion/energy",name:"megaregionEnergy",components:{default:function(){return n.e("chunk-004e").then(n.bind(null,"c669"))},map:ye}},{path:"/megaregion/crops",name:"megaregionCrops",components:{default:function(){return n.e("chunk-54a4").then(n.bind(null,"93bb"))},map:ye}},{path:"/megaregion/crops/basinproject",name:"megaregionCropsBasinProject",components:{default:function(){return n.e("chunk-5f8b").then(n.bind(null,"81d0"))},map:ye}},{path:"/bioregion/introduction",name:"bioregion",components:{default:function(){return n.e("chunk-494d").then(n.bind(null,"94ef"))},map:Se}},{path:"/bioregion/salmon",name:"bioregionSalmon",components:{default:function(){return n.e("chunk-c373").then(n.bind(null,"1ac2"))},map:Se}},{path:"/bioregion/salmon/chinook",name:"bioregionSalmonChinook",components:{default:function(){return n.e("chunk-723c").then(n.bind(null,"b241"))},map:Se}},{path:"/bioregion/salmon/coho",name:"bioregionSalmonCoho",components:{default:function(){return n.e("chunk-e5bd").then(n.bind(null,"9e7f"))},map:Se}},{path:"/bioregion/salmon/chum",name:"bioregionSalmonChum",components:{default:function(){return n.e("chunk-72a9").then(n.bind(null,"0ff5"))},map:Se}},{path:"/bioregion/salmon/sockeye",name:"bioregionSalmonSockeye",components:{default:function(){return n.e("chunk-11d2").then(n.bind(null,"47df"))},map:Se}},{path:"/bioregion/salmon/pink",name:"bioregionSalmonPink",components:{default:function(){return n.e("chunk-1e85").then(n.bind(null,"2717"))},map:Se}},{path:"/bioregion/restoration",name:"bioregionRestoration",components:{default:function(){return n.e("chunk-fdb5").then(n.bind(null,"6dfa"))},map:Se}},{path:"/bioregion/dancing",name:"bioregionDancing",components:{default:function(){return n.e("chunk-7657").then(n.bind(null,"a62d"))},map:Se}},{path:"/bioregion/dancing/caps",name:"bioregionDancingCaps",components:{default:function(){return n.e("chunk-4c55").then(n.bind(null,"cd47"))},map:Se}},{path:"/bioregion/dancing/arrowhead",name:"bioregionDancingArrowhead",components:{default:function(){return n.e("chunk-5555").then(n.bind(null,"fa5b"))},map:Se}}]});l["a"].use(g["a"]);var Re={asideHidden:!1},_e={toggle:function(e){e.asideHidden=!e.asideHidden}},Oe={toggle:function(e){e.commit("toggle")}},Te={asideHidden:function(e){return e.asideHidden}},Me=new g["a"].Store({state:Re,getters:Te,actions:Oe,mutations:_e});n.d(t,"eventBus",function(){return Be}),l["a"].use(p.a),l["a"].config.productionTip=!1;var Be=new l["a"];new l["a"]({router:Ce,store:Me,render:function(e){return e(S)}}).$mount("#app")},"71d5":function(e,t,n){},a347:function(e,t,n){},a7a4:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[e._v(" On Testing...")]),n("gallery",{attrs:{images:e.images,index:e.index,options:{youTubeVideoIdProperty:"youtube",youTubePlayerVars:void 0,youTubeClickToPlay:!0}},on:{close:function(t){e.index=null}}}),e._l(e.images,function(t,o){return n("div",{key:o,staticClass:"image",style:{backgroundImage:"url("+t+")",width:"300px",height:"200px"},on:{click:function(t){e.index=o}}})})],2)},i=[],a=n("067c"),s=n.n(a),r={data:function(){return{images:[{title:"A YouYube video",href:"https://www.youtube.com/watch?v=hNdlUHBJDKs",type:"text/html",youtube:"hNdlUHBJDKs",poster:"https://img.youtube.com/vi/hNdlUHBJDKs/maxresdefault.jpg"}],index:null}},components:{gallery:s.a}},c=r,l=(n("3bfb"),n("2877")),u=Object(l["a"])(c,o,i,!1,null,"15db4dff",null);t["a"]=u.exports},b059:function(e,t,n){},c0e8:function(e,t,n){},c1a1:function(e,t,n){},c504:function(e,t,n){"use strict";var o=n("4afc"),i=n.n(o);i.a},d54e:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{ref:"accordion",class:e.accordionClasses},[n("div",{staticClass:"heading",on:{click:e.toggleAccordion}},[e.isOpen?n("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_up")]):n("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_down")]),n("span",{staticClass:"headingText"},[e._t("header")],2)]),n("div",{staticClass:"body"},[n("div",{staticClass:"content"},[e._t("default")],2)])])},i=[],a={name:"Accordion",props:{open:Boolean},data:function(){return{isOpen:this.open}},computed:{accordionClasses:function(){return{"is-closed":!this.isOpen}}},methods:{toggleAccordion:function(){var e=this;this.isOpen=!this.isOpen,this.isOpen&&this.$refs.accordion.offsetTop>window.innerHeight&&setTimeout(function(){e.$refs.accordion.scrollIntoView()},500)}}},s=a,r=(n("1f45"),n("2877")),c=Object(r["a"])(s,o,i,!1,null,"cfaf1244",null);t["a"]=c.exports},e3a3:function(e,t,n){"use strict";var o=n("10bf"),i=n.n(o);i.a},e711:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"link",on:{click:e.open}},[e._t("default")],2),e.isOpen?n("LightBox",{attrs:{images:e.images,showCaption:!0},on:{onOpened:e.onOpenChange}}):e._e()],1)},i=[],a=n("1c09"),s=n.n(a),r={name:"AppLightBox",components:{LightBox:s.a},props:{images:Array},data:function(){return{isOpen:!1}},methods:{open:function(){this.isOpen=!0},onOpenChange:function(e){this.isOpen=e}}},c=r,l=(n("2352"),n("2877")),u=Object(l["a"])(c,o,i,!1,null,"5cc4adc2",null);t["a"]=u.exports},ec7a:function(e,t,n){"use strict";var o=n("c0e8"),i=n.n(o);i.a},fd4b:function(e,t,n){}});