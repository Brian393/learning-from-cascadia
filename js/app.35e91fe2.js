(function(){"use strict";var e={3965:function(e,t,o){var n=o(5130),i=o(5847),s=o(6768),a=o(4232);const r={id:"app"},l=(0,s.Lk)("span",null," ",-1),c=(0,s.Lk)("span",null," ",-1),u=(0,s.Lk)("i",{class:"material-icons"},"keyboard_arrow_down",-1),h=[u],p={id:"aside-wraper"},d={key:0,class:"material-icons"},m={key:1,class:"material-icons"};function g(e,t,o,n,i,u){const g=(0,s.g2)("router-link"),f=(0,s.g2)("router-view"),y=(0,s.g2)("AppNav");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("main",null,[(0,s.Lk)("nav",null,[l,(0,s.bF)(g,{to:"/megaregion/introduction",class:(0,a.C4)({active:e.$route.name&&e.$route.name.match("megaregion")}),onClick:t[0]||(t[0]=e=>u.routeClick("/megaregion/introduction"))},{default:(0,s.k6)((()=>[(0,s.eW)("Megaregion")])),_:1},8,["class"]),(0,s.bF)(g,{to:"/watershed/acknowledgement",class:(0,a.C4)({active:e.$route.name&&e.$route.name.match("watershed")}),onClick:t[1]||(t[1]=e=>u.routeClick("/watershed/acknowledgement"))},{default:(0,s.k6)((()=>[(0,s.eW)("Watershed")])),_:1},8,["class"]),(0,s.bF)(g,{to:"/bioregion/introduction",class:(0,a.C4)({active:e.$route.name&&e.$route.name.match("bioregion")}),onClick:t[2]||(t[2]=e=>u.routeClick("/bioregion/introduction"))},{default:(0,s.k6)((()=>[(0,s.eW)("Bioregion")])),_:1},8,["class"]),c,(0,s.Lk)("div",{onClick:t[3]||(t[3]=(...e)=>u.scrollToAside&&u.scrollToAside(...e)),id:"aside-scroll-to",title:"Skip To Content"},h)]),(0,s.bF)(f,{name:"map",id:"map"})]),(0,s.bF)(y),(0,s.Lk)("aside",{class:(0,a.C4)({"no-flex":this.asideHidden})},[(0,s.Lk)("div",p,[(0,s.Lk)("div",{onClick:t[4]||(t[4]=(...e)=>u.toggleAside&&u.toggleAside(...e)),id:"aside-toggle",title:"Toggle Content"},[e.asideHidden?((0,s.uX)(),(0,s.CE)("i",d,"menu")):((0,s.uX)(),(0,s.CE)("i",m,"close"))]),(0,s.Lk)("p",{id:"aside-heading",class:(0,a.C4)({hidden:this.asideHidden})}," LEARNING FROM CASCADIA ",2)]),(0,s.Lk)("div",{id:"content",class:(0,a.C4)({hidden:this.asideHidden}),ref:"asideContent"},[(0,s.bF)(f)],2)],2)])}var f=o(782);const y={key:0},w={key:0,id:"items"},b={key:1,id:"subItems"};function v(e,t,o,n,i,r){const l=(0,s.g2)("router-link");return e.asideHidden?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",y,[e.nav.items?((0,s.uX)(),(0,s.CE)("div",w,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.nav.items,(e=>((0,s.uX)(),(0,s.Wv)(l,{key:e.name,to:{path:e.href},onClick:t=>r.routeClick(e.href),class:"btn"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e.name),1)])),_:2},1032,["to","onClick"])))),128))])):(0,s.Q3)("",!0),e.navSubItems?((0,s.uX)(),(0,s.CE)("div",b,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.navSubItems,(e=>((0,s.uX)(),(0,s.Wv)(l,{key:e.name,to:e.href,onClick:t=>r.routeClick(e.href),class:"btn subItem"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e.name),1)])),_:2},1032,["to","onClick"])))),128))])):(0,s.Q3)("",!0)]))}var k={name:"AppNav",data:function(){return{nav:[],navSubItems:[],watershed:{items:[{name:"Remember",href:"/watershed/acknowledgement"},{name:"Introduction",href:"/watershed/introduction"},{name:"Terminals",href:"/watershed/terminals"},{name:"Dams",href:"/watershed/dams"},{name:"Hanford",href:"/watershed/hanford"}]},megaregion:{items:[{name:"Introduction",href:"/megaregion/introduction"},{name:"Vanport",href:"/megaregion/vanport"},{name:"Willamette",href:"/megaregion/willamette"},{name:"Energy",href:"/megaregion/energy"},{name:"Crops",href:"/megaregion/crops"}]},bioregion:{items:[{name:"Introduction",href:"/bioregion/introduction"},{name:"Salmon",href:"/bioregion/salmon"},{name:"Restoration",href:"/bioregion/restoration"},{name:"Dancing",href:"/bioregion/dancing"}]},subItems:{dams:[{name:"Falls",href:"/watershed/dams/falls"},{name:"Takedowns",href:"/watershed/dams/removal"}],hanford:[{name:"Legacy",href:"/watershed/hanford/legacy"},{name:"Plumes",href:"/watershed/hanford/plumes"},{name:"Floods",href:"/watershed/hanford/floods"}],crops:[{name:"Columbia Basin Project",href:"/megaregion/crops/basinproject"}],salmon:[{name:"Chinook",href:"/bioregion/salmon/chinook"},{name:"Coho",href:"/bioregion/salmon/coho"},{name:"Chum",href:"/bioregion/salmon/chum"},{name:"Sockeye",href:"/bioregion/salmon/sockeye"},{name:"Pink",href:"/bioregion/salmon/pink"}],dancing:[{name:"Children's Dance Caps",href:"/bioregion/dancing/caps"},{name:"ARROWHEAD",href:"/bioregion/dancing/arrowhead"}]}}},computed:{...(0,f.L8)(["asideHidden"])},watch:{$route(e,t){this.initNav()}},mounted:function(){this.initNav()},methods:{initNav:function(){/watershed/.test(this.$route.name)?this.nav=this.watershed:/megaregion/.test(this.$route.name)?this.nav=this.megaregion:/bioregion/.test(this.$route.name)?this.nav=this.bioregion:this.nav=[],/watershedDams/.test(this.$route.name)?this.navSubItems=this.subItems.dams:/watershedHanford/.test(this.$route.name)?this.navSubItems=this.subItems.hanford:/megaregionCrops/.test(this.$route.name)?this.navSubItems=this.subItems.crops:/bioregionSalmon/.test(this.$route.name)?this.navSubItems=this.subItems.salmon:/bioregionRestoration/.test(this.$route.name)?this.navSubItems=this.subItems.restoration:/bioregionDancing/.test(this.$route.name)?this.navSubItems=this.subItems.dancing:this.navSubItems=[]},routeClick:function(e){e===this.$route.path&&this.$eventBus.emit("route-click")}}},A=o(1241);const L=(0,A.A)(k,[["render",v],["__scopeId","data-v-2d29024d"]]);var P=L,x={name:"App",components:{AppNav:P},watch:{$route(e,t){document.querySelector("aside > #content").scrollTop=0}},computed:{...(0,f.L8)(["asideHidden"])},methods:{toggleAside(){this.$store.dispatch("toggle")},scrollToAside(){this.$refs.asideContent.scrollIntoView()},routeClick:function(e){e===this.$route.path&&this.$eventBus.emit("route-click")}}};const C=(0,A.A)(x,[["render",g]]);var R=C,S=o(1387);const T=e=>((0,s.Qi)("data-v-5414a0fe"),e=e(),(0,s.jt)(),e),M={class:"aside-content"},j=(0,s.Fv)('<div class="title" data-v-5414a0fe><h1 data-v-5414a0fe>Acknowledgement<br data-v-5414a0fe>of land and language</h1></div><img src="images/falls.jpg" class="fullwidth" data-v-5414a0fe><div class="caption" data-v-5414a0fe>first name still unknown</div><p data-v-5414a0fe> </p><p data-v-5414a0fe><h3 data-v-5414a0fe>We begin with respect:</h3></p><p data-v-5414a0fe> All the land that is now called North America was inhabited for thousands of years before the European colonizers came. Now it&#39;s time to remember and to recognize the original inhabitants. </p><p data-v-5414a0fe> Ancient tongues gave names to these hills, these mountains, these rivers, these waterfalls too, long in advance of modern English. </p><p data-v-5414a0fe> In this atlas we will name many places, to tell stories about the Columbia River and Cascadia. But the first map names the Indigenous languages of this land, to give at least some idea of where they were spoken, and by whom. </p><p data-v-5414a0fe> Are there foreign tongues in the place you call home? Is English a foreign tongue in the place you call home? </p><p data-v-5414a0fe> The tragedies of colonization stole the languages from the land and left many of the traditions sleeping. Today we must remember war, plunder and millions of deaths from disease, along with ongoing prejudice, inequality and ecological devastation. Yet a great awakening is underway. Freed from within, by their own efforts, new generations of Indigenous people are finding the words of their ancestors, to revive intimate memories and accomplish an urgent transformation in the stewardship of the territory. It is this that deserves great respect. </p><p data-v-5414a0fe> All whose forebears crossed the seas, or were forced to the crossing, can lend their hands to make a change in this new and dangerous era. </p><p data-v-5414a0fe> Those who speak the modern tongues, may you learn to honor the ancient ones. Those who want to see the earth survive the long history of colonization, may you now raise your voices. </p><br data-v-5414a0fe><div class="accordion_title" data-v-5414a0fe>sources</div>',14),B=T((()=>(0,s.Lk)("h3",{slot:"header"},"sources of this page",-1))),H=T((()=>(0,s.Lk)("div",{class:"flex"},[(0,s.Lk)("p",null,[(0,s.eW)(" Language locations: "),(0,s.Lk)("a",{href:"https://native-land.ca"},"native-land.ca"),(0,s.eW)("."),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.eW)("Further information: "),(0,s.Lk)("a",{href:"http://www.native-languages.org"},"native-languages.org"),(0,s.eW)("."),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.eW)("World Physical Map: "),(0,s.Lk)("a",{href:"http://server.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer"},"Esri/US National Park Service"),(0,s.eW)(". ")])],-1))),$=T((()=>(0,s.Lk)("br",null,null,-1))),N=T((()=>(0,s.Lk)("div",{class:"accordion_title"},"authorship",-1))),I=T((()=>(0,s.Lk)("h3",{slot:"header"},"authorship of this atlas",-1))),_=T((()=>(0,s.Lk)("div",{class:"flex"},[(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,"Brian Holmes"),(0,s.eW)(": concept, cartography, text"),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.Lk)("strong",null,"Mack McFarland"),(0,s.eW)(": curation, outreach"),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.Lk)("strong",null,"edward sharp"),(0,s.eW)(": programming in Vue"),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.Lk)("strong",null,"Jodi Darby"),(0,s.eW)(": video interviews"),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.Lk)("strong",null,"Claire Pentecost"),(0,s.eW)(": title ")])],-1))),W=T((()=>(0,s.Lk)("br",null,null,-1)));function O(e,t,o,n,i,a){const r=(0,s.g2)("Accordion");return(0,s.uX)(),(0,s.CE)("div",M,[j,(0,s.bF)(r,{open:!1},{default:(0,s.k6)((()=>[B,H])),_:1}),$,N,(0,s.bF)(r,{open:!1},{default:(0,s.k6)((()=>[I,_])),_:1}),W])}var V=o(357),G=o(7809),F={name:"WatershedAcknowledgement",components:{Accordion:G.A,AppLightBox:V.A},methods:{emit:function(e,t){this.$eventBus.emit(e,t)}}};const D=(0,A.A)(F,[["render",O],["__scopeId","data-v-5414a0fe"]]);var E=D;o(4114);const J={id:"map",ref:"map"},z={ref:"vimeoPopup",class:"ol-popup ol-vimeopopup"},X={class:"ol-popup-content",ref:"vimeoPopupContent"},Z={ref:"twitterPopup",class:"ol-popup ol-twitterpopup"},U={class:"ol-popup-twitter-content"},Y={ref:"loadingTweets",class:"twitter-loading hidden"},K={ref:"twitterContent"},Q={ref:"popup",class:"ol-popup"},q={class:"ol-popup-content",ref:"popupContent"},ee={ref:"titletip",class:"titletip"},te={class:"titletip-content",ref:"titletipContent"},oe={ref:"textitletip",class:"textitletip"},ne={class:"textitletip-content",ref:"textitletipContent"},ie={ref:"mileagetitletip",class:"mileagetitletip"},se={class:"mileagetitletip-content",ref:"mileagetitletipContent"},ae={ref:"whitetitletip",class:"whitetitletip"},re={class:"whitetitletip-content",ref:"whitetitletipContent"},le={ref:"salmontip",class:"salmontip"},ce={class:"salmontip-content",ref:"salmontipContent"},ue={ref:"tooltip",class:"ol-tooltip"};function he(e,t,o,n,i,a){return(0,s.uX)(),(0,s.CE)("div",J,[(0,s.Lk)("div",z,[(0,s.Lk)("div",{ref:"vimeoPopupCloser",class:"ol-popup-closer",onClick:t[0]||(t[0]=(...e)=>a.closePopup&&a.closePopup(...e))},null,512),(0,s.Lk)("div",X,null,512)],512),(0,s.Lk)("div",Z,[(0,s.Lk)("div",{ref:"twitterpopupCloser",class:"ol-popup-closer",onClick:t[1]||(t[1]=(...e)=>a.closePopup&&a.closePopup(...e))},null,512),(0,s.Lk)("div",U,[(0,s.Lk)("div",Y," Loading Tweets... ",512),(0,s.Lk)("div",K,null,512)])],512),(0,s.Lk)("div",Q,[(0,s.Lk)("div",{ref:"popupCloser",class:"ol-popup-closer",onClick:t[2]||(t[2]=(...e)=>a.closePopup&&a.closePopup(...e))},null,512),(0,s.Lk)("div",q,null,512)],512),(0,s.Lk)("div",ee,[(0,s.Lk)("div",te,null,512)],512),(0,s.Lk)("div",oe,[(0,s.Lk)("div",ne,null,512)],512),(0,s.Lk)("div",ie,[(0,s.Lk)("div",se,null,512)],512),(0,s.Lk)("div",ae,[(0,s.Lk)("div",re,null,512)],512),(0,s.Lk)("div",le,[(0,s.Lk)("div",ce,null,512)],512),(0,s.Lk)("div",ue,null,512)],512)}o(2488);var pe=o(478),de=o(8383),me=o(8699),ge=o(6273),fe=o(2151),ye=o(8131),we=o(6505),be=o(2375),ve=o(5782),ke=o(8343),Ae=o(8732),Le=o(6728),Pe=o(1439),xe=o(9094),Ce={name:"Map",data:function(){return{olmap:void 0,styleCache:{}}},created:function(){this.$eventBus.on("set-map-view",this.setMapView)},beforeDestroy:function(){this.$eventBus.off("set-map-view",this.setMapView)},computed:{...(0,f.L8)(["asideHidden"]),vimeoPopup:function(){return new pe.A({element:this.$refs.vimeoPopup,offset:[10,0],positioning:"center-right",autoPan:!0,autoPanAnimation:{duration:250}})},twitterPopup:function(){return new pe.A({element:this.$refs.twitterPopup,autoPan:!0,autoPanAnimation:{duration:250},positioning:"center-right"})},popup:function(){return new pe.A({element:this.$refs.popup,autoPan:!0,autoPanAnimation:{duration:250}})},titletip:function(){return new pe.A({element:this.$refs.titletip,offset:[10,0],positioning:"center-left"})},textitletip:function(){return new pe.A({element:this.$refs.textitletip,offset:[10,0],positioning:"center-left"})},whitetitletip:function(){return new pe.A({element:this.$refs.whitetitletip,offset:[10,0],positioning:"center-left"})},mileagetitletip:function(){return new pe.A({element:this.$refs.mileagetitletip})},salmontip:function(){return new pe.A({element:this.$refs.salmontip,offset:[10,0],positioning:"center"})},tooltip:function(){return new pe.A({element:this.$refs.tooltip,offset:[10,0],positioning:"center-left"})}},watch:{$route(e,t){this.closePopup(),this.initMap()},asideHidden(){this.olmap.updateSize(),this.toggleScaleLine()}},methods:{initMap:function(){},initBaseMap:function(){this.olmap||(this.olmap=new de.A({target:"map",overlays:[this.twitterPopup,this.popup,this.titletip,this.textitletip,this.mileagetitletip,this.whitetitletip,this.salmontip,this.tooltip,this.vimeoPopup],controls:(0,Ae.N)({attributionOptions:{collapsible:!0}}).extend([new Le.A({units:"us",minWidth:150})]),interactions:(0,Pe.N)({altShiftDragRotate:!1,pinchRotate:!1})}),this.toggleScaleLine(),this.olmap.on("singleclick",(e=>{const t=this.olmap.forEachFeatureAtPixel(e.pixel,(e=>e));if(t){const o=t.getProperties();o.title&&o.image&&o.text1?(this.$refs.popupContent.innerHTML="<h4>"+o.title+"</h4>",this.$refs.popupContent.innerHTML+=o.image?o.image.replace("cascadia/",""):"",this.$refs.popupContent.innerHTML+=o.text1+"<br>",this.$refs.popupContent.innerHTML+=o.text2?o.text2+"<br>":"",this.$refs.popupContent.innerHTML+=o.text3?o.text3+"<br>":"",this.popup.setPosition(e.coordinate),this.closeTooltip()):o.key2&&o.date&&o.City_County?(this.$refs.popupContent.innerHTML=o.key2?`<strong>${o.key2}</strong>`:"",this.$refs.popupContent.innerHTML+=o.River?`<br>${o.River}<br>`:"",this.$refs.popupContent.innerHTML+=o.date?` * * * *<br>Takedown date: ${o.date}<br>`:"",this.$refs.popupContent.innerHTML+=o.Dam_Height_ft?`Dam height in feet: ${o.Dam_Height_ft}<br>`:"",this.$refs.popupContent.innerHTML+=o.Year_Built?`Year built: ${o.Year_Built}<br>`:"",this.$refs.popupContent.innerHTML+=o.Original_Use?`Original use: ${o.Original_Use}<br>`:"",this.$refs.popupContent.innerHTML+=o.Type_Material?`Type of material: ${o.Type_Material}`:"",this.popup.setPosition(e.coordinate)):o.key2?(this.$refs.popupContent.innerHTML=o.key2?`<strong>${o.key2}</strong><br>`:"",this.$refs.popupContent.innerHTML+=o.date?`<br>Built: ${o.date}`:"",this.$refs.popupContent.innerHTML+=o.Date_idled?`<br>Idled: ${o.Date_idled}`:"",this.$refs.popupContent.innerHTML+=o.NID_HEIGHT?`<br>Height: ${o.NID_HEIGHT} ft`:"",this.$refs.popupContent.innerHTML+=o.wiki_entry?`<br>Wikipedia entry <a href='https://en.wikipedia.org/wiki/${o.wiki_entry}' target='_blank'>here</a>`:"",this.$refs.popupContent.innerHTML+=o.Cleanup_progress?`<br>Cleanup progress <a href='${o.Cleanup_progress}' target='_blank'>here</a>`:"",this.popup.setPosition(e.coordinate)):o.Title?(this.$refs.popupContent.innerHTML="<h3>"+o.Title+"</h3><br>",this.$refs.popupContent.innerHTML+=o.Description,this.popup.setPosition(e.coordinate)):o.title?(this.$refs.popupContent.innerHTML=o.title,this.popup.setPosition(e.coordinate)):o.key?(this.$refs.popupContent.innerHTML=o.key,this.popup.setPosition(e.coordinate)):o.timeline?window.twttr&&(this.$refs.loadingTweets.classList.remove("hidden"),this.$refs.twitterContent.innerHTML="",window?.twttr?.widgets.createTimeline({sourceType:"url",url:o.timeline},this.$refs.twitterContent).then((()=>{this.$refs.loadingTweets.classList.add("hidden")})),this.twitterPopup.setPosition(e.coordinate)):o.vimeoSrc}else this.closePopup()})),window.addEventListener("keydown",(e=>{27===e.keyCode&&this.closePopup()})),window.addEventListener("resize",(e=>{this.toggleScaleLine()})),this.olmap.on("pointermove",(e=>{const t=this.olmap.getEventPixel(e.originalEvent),o=this.olmap.hasFeatureAtPixel(t);this.$refs.map.style.cursor=o?"pointer":""})))},closePopup:function(){return this.popup.setPosition(void 0),this.$refs.popupCloser.blur(),this.twitterPopup.setPosition(void 0),this.$refs.twitterpopupCloser.blur(),this.vimeoPopup.setPosition(void 0),this.$refs.vimeoPopupCloser.blur(),this.$refs.vimeoPopupContent.innerHTML="",!1},closeTitletip:function(){return this.titletip.setPosition(void 0),!1},closeTextitletip:function(){return this.textitletip.setPosition(void 0),!1},closeMileagetitletip:function(){return this.mileagetitletip.setPosition(void 0),!1},closeWhitetitletip:function(){return this.whitetitletip.setPosition(void 0),!1},closeSalmontip:function(){return this.salmontip.setPosition(void 0),!1},closeTooltip:function(){return this.tooltip.setPosition(void 0),!1},geoJSONPointVectorLayerStyle:function(e){return e.values_&&e.values_["icon"]&&!this.styleCache[e.values_["icon"]]&&(this.styleCache[e.values_["icon"]]=new we.Ay({image:new be.A({src:e.values_["icon"]||"icons/dam.png"})})),this.styleCache[e.values_["icon"]]},makeGeoJSONPointVectorLayerWithStyle:function(e,t,o,n,i){return new ge.A({source:new fe.A({url:e,format:new ye.A}),minResolution:o,maxResolution:n,style:this.geoJSONPointVectorLayerStyle,label:t,opacity:i})},makeGeoJSONPointVectorLayer:function(e,t,o,n,i,s){return new ge.A({source:new fe.A({url:e,format:new ye.A}),minResolution:n,maxResolution:i,style:new we.Ay({image:new be.A({src:t,opacity:void 0===s?1:s})}),label:o})},makeGeoJSONFillVectorLayer:function(e,t,o,n,i,s){return new ge.A({source:new fe.A({format:new ye.A,url:e}),minResolution:t,maxResolution:o,style:new we.Ay({stroke:new ve.A({color:n,width:i}),fill:new ke.A({color:s})}),fill:s,fillColor:s})},makeGeoJSONLineVectorLayer:function(e,t,o,n,i){return new ge.A({source:new fe.A({format:new ye.A,url:e}),minResolution:t,maxResolution:o,style:new we.Ay({stroke:new ve.A({color:n,width:i})}),strokeColor:n})},toggleScaleLine:function(){this.asideHidden||window.innerWidth<850?document.querySelector(".ol-scale-line").classList.remove("hidden"):document.querySelector(".ol-scale-line").classList.add("hidden")},setMapView:function(e={}){let t={};e.center&&(t["center"]=(0,xe.Rb)(e["center"])),e.resolution&&(t["resolution"]=e.resolution),e.minResolution?t["minResolution"]=e.minResolution:t["minResolution"]=1,e.maxResolution?t["maxResolution"]=e.maxResolution:t["maxResolution"]=16e3,this.olmap.setView(new me.Ay(t))}}};const Re=(0,A.A)(Ce,[["render",he]]);var Se=Re,Te=o(295),Me=o(3139),je=o(3805),Be=o(8409),He=o(6121),$e=o(4549);class Ne{constructor(e){this.url=e,this.root=document.querySelector("body")}open(){this.render(this.url),this.events()}render(e){var t=this.template('<div class="mediabox-wrap" role="dialog" aria-hidden="false"><div class="mediabox-content" role="document" tabindex="0"><span id="mediabox-esc" class="mediabox-close" aria-label="close" tabindex="1"></span><iframe src="{embed}?autoplay=1" frameborder="0" allowfullscreen></iframe></div></div>',{embed:e});this.lastFocusElement=document.activeElement,this.root.insertAdjacentHTML("beforeend",t),document.body.classList.add("stop-scroll")}events(){var e=document.querySelector(".mediabox-wrap"),t=document.querySelector(".mediabox-content");e.addEventListener("click",function(t){(t.target&&"SPAN"===t.target.nodeName&&"mediabox-close"===t.target.className||"DIV"===t.target.nodeName&&"mediabox-wrap"===t.target.className||"mediabox-content"===t.target.className&&"IFRAME"!==t.target.nodeName)&&this.close(e)}.bind(this),!1),document.addEventListener("focus",(function(e){t&&!t.contains(e.target)&&(e.stopPropagation(),t.focus())}),!0),t.addEventListener("keypress",function(t){13===t.keyCode&&this.close(e)}.bind(this),!1)}close(e){if(null===e)return!0;var t=null;t&&clearTimeout(t),e.classList.add("mediabox-hide"),t=setTimeout(function(){var e=document.querySelector(".mediabox-wrap");null!==e&&(document.body.classList.remove("stop-scroll"),this.root.removeChild(e),this.lastFocusElement.focus())}.bind(this),500)}template(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e=e.replace(new RegExp("{"+o+"}","g"),t[o]));return e}}var Ie={name:"MapWatershed",extends:Se,data:function(){return{centerPoints:{acknowledgement:{center:[-121.36,47.7],resolution:2e3},introductionwater:{center:[-120.4,46.6],resolution:750},introductionbio:{center:[-121.2,51],resolution:4500},terminals:{center:[-122.9,45.8],resolution:220},hanford1:{center:[-119.54,46.692],resolution:4},legacy:{center:[-119.529,46.555],resolution:6},floods:{center:[-119.605,46.605],resolution:54},plumes:{center:[-119.605,46.605],resolution:54},stopit:{center:[-122.68,45.84],resolution:220},dams:{center:[-119.9,46.9],resolution:1e3},transformation:{center:[-119.9,46.9],resolution:1e3},removal:{center:[-119.9,46.9],resolution:1e3}},WatershedDamsIsAnimating:!0,didSetSingleclickEvent:!1,listenerKeys:[],animTimeouts:[]}},computed:{acknowledgementLayers:function(){return[new Te.A({source:new je.A({url:"https://geo.timetochange.today/geoserver/gwc/service/tms/1.0.0/osm%3AWorld_Physical_Map@EPSG%3A900913@png/{z}/{x}/{-y}.png"}),opacity:1,minResolution:40}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:2}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Languages/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3})]},watershedBaseLayers:function(){return[new Te.A({source:new je.A({url:"https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}"}),opacity:1,minResolution:8,maxResolution:26e3}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Columbia/{z}/{x}/{y}.png"}),opacity:1,minResolution:4,maxResolution:26e3}),new Te.A({source:new je.A({url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}"}),opacity:.9,minResolution:1,maxResolution:10})]},watershedTerminalsLayers:function(){return[...this.watershedBaseLayers,this.makeGeoJSONPointVectorLayer("geojson/red.geojson","icons/red.png",null,2,32e3),this.makeGeoJSONPointVectorLayer("geojson/yellow.geojson","icons/yellow.png",null,2,32e3),this.makeGeoJSONPointVectorLayer("geojson/green.geojson","icons/black.png",null,2,32e3),this.makeGeoJSONPointVectorLayer("geojson/mosier.geojson","icons/derailment.png",null,2,32e3)]},watershedDamsLayers:function(){return[...this.watershedBaseLayers,this.makeGeoJSONPointVectorLayerWithStyle("geojson/watershedDamsAll.geojson",null,2,32e3,1)]},watershedDamsFallsLayers:function(){return[...this.watershedBaseLayers,this.makeGeoJSONPointVectorLayer("geojson/Falls/Celilo.geojson","images/Falls/Celilo.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/KettleFalls.geojson","images/Falls/KettleFalls.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/PriestRapids.geojson","images/Falls/PriestRapids.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/UmatillaRapids.geojson","images/Falls/UmatillaRapids.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/SpokaneFalls.geojson","images/Falls/SpokaneFalls.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/WillametteFalls.geojson","images/Falls/WillametteFalls.png",null,2,32e3,1),this.makeGeoJSONPointVectorLayer("geojson/Falls/Cascades.geojson","images/Falls/CascadesRapids.png",null,2,32e3,1)]},watershedDamsRemovalLayers:function(){return[...this.watershedBaseLayers,this.makeGeoJSONPointVectorLayerWithStyle("geojson/watershedDamsRemoval.geojson",null,2,32e3,1)]},watershedHanfordLayers:function(){return[...this.watershedBaseLayers,new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:.25,maxResolution:160}),new Te.A({preload:1/0,source:new je.A({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),opacity:.8,minResolution:.25,maxResolution:2})]},watershedHandfordLegacyLayers:function(){return[...this.watershedBaseLayers,new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:80}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Leaks/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:80}),this.makeGeoJSONFillVectorLayer("geojson/HanfordLabelsNoPipes.geojson",1,80,"rgba(60, 20, 20, 0.0)",2,"rgba(255, 255, 0, 0.0)")]},watershedHanfordPlumesLayers:function(){return[...this.watershedBaseLayers,new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Hanford/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:80}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/HanfordPlumes/{z}/{x}/{y}.png"}),opacity:.8,minResolution:1,maxResolution:80})]},watershedHanfordFloodsLayers:function(){return[...this.watershedBaseLayers,new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/HanfordPlumes/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:80}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Floods/{z}/{x}/{y}.png"}),opacity:.7,minResolution:8,maxResolution:16e3})]}},created:function(){this.$eventBus.on("route-click",this.initMap)},beforeDestroy:function(){this.$eventBus.off("route-click",this.initMap)},mounted:function(){this.initMap()},methods:{initMap:function(){switch(this.WatershedDamsIsAnimating=!0,this.$route.name){case"watershedAcknowledgement":this.initWatershedAcknowledgement();break;case"watershedIntroduction":this.initWatershedIntroduction();break;case"watershedTerminals":this.initWatershedTerminals();break;case"watershedDams":this.initWatershedDams();break;case"watershedDamsFalls":this.initWatershedDamsFalls();break;case"watershedDamsRemoval":this.initWatershedDamsRemoval();break;case"watershedHanford":this.initWatershedHanford();break;case"watershedHanfordLegacy":this.initWatershedHanfordLegacy();break;case"watershedHanfordPlumes":this.initWatershedHanfordPlumes();break;case"watershedHanfordFloods":this.initWatershedHanfordFloods();break;default:this.initWatershedAcknowledgement()}this.olmap.on("pointermove",(e=>{const t=this.olmap.forEachFeatureAtPixel(e.pixel,(e=>e));if(t){const o=t.getProperties();o.key&&(this.$refs.titletipContent.innerHTML=o.key,this.titletip.setPosition(e.coordinate))}else this.closeTitletip(),this.closeTooltip()}))},initWatershedAcknowledgement:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.acknowledgementLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.acknowledgement.center),resolution:this.centerPoints.acknowledgement.resolution,minResolution:40,maxResolution:32e3}))},initWatershedIntroduction:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.watershedBaseLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.introductionwater.center),resolution:this.centerPoints.introductionwater.resolution,minResolution:2,maxResolution:4e4}))},initWatershedTerminals:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.watershedTerminalsLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.terminals.center),resolution:this.centerPoints.terminals.resolution,minResolution:2})),this.olmap&&this.olmap.on("singleclick",(e=>{const t=this.olmap.forEachFeatureAtPixel(e.pixel,(e=>e));if(t){const e=t.getProperties();if(e.vimeoSrc){const t=new Ne(e.vimeoSrc);t.open()}}}))},initWatershedDams:function(){this.initBaseMap();const e=[...this.watershedBaseLayers,this.makeGeoJSONPointVectorLayer("geojson/watershedDamsTransformation.geojson","icons/damOther.png",null,2,32e3,0)];this.WatershedDamsIsAnimating&&e[3].getSource().on("addfeature",(e=>{if(!isNaN(parseInt(e.feature.values_["id"]))){const t=setTimeout((()=>{this.flash(e.feature)}),1e3*parseInt(e.feature.values_["id"]));this.animTimeouts.push(t)}})),this.didSetSingleclickEvent||(this.olmap.on("singleclick",(e=>{"WatershedDams"===this.$route.name&&this.WatershedDamsIsAnimating&&(this.WatershedDamsIsAnimating=!1,this.listenerKeys.forEach((e=>{(0,$e.e)(e)})),this.animTimeouts.forEach((e=>{clearTimeout(e)})),this.olmap.setLayerGroup(new Me.A({layers:this.WatershedDamsLayers})))})),this.didSetSingleclickEvent=!0),this.olmap.setLayerGroup(new Me.A({layers:e})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.transformation.center),resolution:this.centerPoints.transformation.resolution,minResolution:2}))},initWatershedDamsFalls:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.watershedDamsFallsLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.dams.center),resolution:this.centerPoints.dams.resolution,minResolution:2}))},initWatershedDamsRemoval:function(){this.initBaseMap();const e=[...this.watershedBaseLayers,this.makeGeoJSONPointVectorLayer("geojson/watershedDamsRemoval.geojson","icons/damOther.png",null,2,32e3,0)];this.WatershedDamsIsAnimating&&e[3].getSource().on("addfeature",(e=>{if(!isNaN(parseInt(e.feature.values_["id"]))){const t=setTimeout((()=>{this.flash(e.feature)}),600*parseInt(e.feature.values_["id"]));this.animTimeouts.push(t)}})),this.didSetSingleclickEvent||(this.olmap.on("singleclick",(e=>{"WatershedDamsRemoval"===this.$route.name&&this.WatershedDamsIsAnimating&&(this.WatershedDamsIsAnimating=!1,this.listenerKeys.forEach((e=>{(0,$e.e)(e)})),this.animTimeouts.forEach((e=>{clearTimeout(e)})),this.olmap.setLayerGroup(new Me.A({layers:this.WatershedDamsLayers})))})),this.didSetSingleclickEvent=!0),this.olmap.setLayerGroup(new Me.A({layers:e})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.removal.center),resolution:this.centerPoints.removal.resolution,minResolution:2}))},initWatershedHanford:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.watershedHanfordLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.hanford1.center),resolution:this.centerPoints.hanford1.resolution,minResolution:.25}))},initWatershedHanfordLegacy:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.watershedHandfordLegacyLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.legacy.center),resolution:this.centerPoints.legacy.resolution,minResolution:1}))},initWatershedHanfordPlumes:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.watershedHanfordPlumesLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.plumes.center),resolution:this.centerPoints.plumes.resolution,minResolution:1}))},initWatershedHanfordFloods:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.watershedHanfordFloodsLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.floods.center),resolution:this.centerPoints.floods.resolution,minResolution:2}))},flash:function(e){const t=e.values_["key2"]||"",o=e.values_["date"]||"",n=e.values_["icon"]||"",i=(new Date).getTime(),s=this.olmap.on("postrender",(a=>{const r=2500,l=a.frameState.time-i,c=l/r,u=(0,Be.vT)(1-c);e.setStyle([new we.Ay({text:new He.A({text:t,fill:new ke.A({color:[255,255,255,u]}),stroke:new ve.A({color:[0,0,0,u]}),backgroundFill:new ve.A({color:[0,0,0,u/6]}),scale:1.9,offsetY:-7})}),new we.Ay({text:new He.A({text:o,fill:new ke.A({color:[255,255,255,u]}),stroke:new ve.A({color:[0,0,0,u]}),backgroundFill:new ve.A({color:[0,0,0,u/3]}),scale:2,offsetY:20})}),new we.Ay({image:new be.A({src:n,opacity:1})})]),l>r?(0,$e.e)(s):this.olmap.render()}));this.listenerKeys.push(s)}}};const _e=Ie;var We=_e,Oe=o(8157),Ve=o(5801),Ge=o(8534),Fe=o(9341);const De=e=>((0,s.Qi)("data-v-15db4dff"),e=e(),(0,s.jt)(),e),Ee=De((()=>(0,s.Lk)("div",null," On Testing...",-1))),Je=["onClick"];function ze(e,t,o,n,i,r){const l=(0,s.g2)("gallery");return(0,s.uX)(),(0,s.CE)("div",null,[Ee,(0,s.bF)(l,{images:e.images,index:e.index,options:{youTubeVideoIdProperty:"youtube",youTubePlayerVars:void 0,youTubeClickToPlay:!0},onClose:t[0]||(t[0]=t=>e.index=null)},null,8,["images","index"]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.images,((t,o)=>((0,s.uX)(),(0,s.CE)("div",{class:"image",key:o,onClick:t=>e.index=o,style:(0,a.Tr)({backgroundImage:"url("+t+")",width:"300px",height:"200px"})},null,12,Je)))),128))])}var Xe=o(3363),Ze=o.n(Xe),Ue={data:function(){return{images:[{title:"A YouYube video",href:"https://www.youtube.com/watch?v=hNdlUHBJDKs",type:"text/html",youtube:"hNdlUHBJDKs",poster:"https://img.youtube.com/vi/hNdlUHBJDKs/maxresdefault.jpg"}],index:null}},components:{gallery:Ze()}};const Ye=(0,A.A)(Ue,[["render",ze],["__scopeId","data-v-15db4dff"]]);var Ke=Ye;const Qe={low:new we.Ay({stroke:new ve.A({color:"#66d71f",width:2})}),moderate:new we.Ay({stroke:new ve.A({color:"#acd71f",width:2})}),heavy:new we.Ay({stroke:new ve.A({color:"#e3cc3e",width:2})}),severe:new we.Ay({stroke:new ve.A({color:"#ff0126",width:2})})},qe=e=>{const t=e.getProperties();console.log(t);const o=t["congestion"];return Qe[o]||Qe["low"]};var et={name:"MapMegaregion",extends:Se,data:function(){return{centerPoints:{introductionmetro:{center:[-122.4,45.564222],resolution:200},vanport:{center:[-122.7,45.601],resolution:3},willamette:{center:[-122.718,45.588],resolution:22},energy:{center:[-120.1,47.1],resolution:798},crops:{center:[-119.9,46.49],resolution:700},coulee:{center:[-118.989,47.948],resolution:6},basin:{center:[-119.4,47],resolution:140}},radius:250,mousePosition:void 0}},computed:{baseLayers:function(){let e=new Te.A({source:new Oe.A({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:8});return e.on("prerender",(e=>{this.spyglass(e)})),e.on("postrender",(function(e){e.context.restore()})),[new Te.A({preload:1/0,source:new je.A({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_CityLights_2012/default/GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg"}),minResolution:800,maxZoom:21}),new Te.A({preload:1/0,source:new je.A({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:40,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new Te.A({preload:1/0,source:new je.A({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minResolution:20,maxResolution:799,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new Te.A({source:new je.A({url:"https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/Coastlines/default/GoogleMapsCompatible_Level9/{z}/{y}/{x}.png"}),minResolution:200,maxZoom:21}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/PDX-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:1600}),new Te.A({title:"OpenRailwayMap",visible:!0,minResolution:40,opacity:1,source:new je.A({url:"https://{a-c}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",crossOrigin:null,tilePixelRatio:2,maxZoom:21,opaque:!1,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0})}),new Ve.A({source:new Ge.A({format:new Fe.A,url:"https://api.mapbox.com/v4/mapbox.mapbox-traffic-v1/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1IjoiYmtob2xtZXMiLCJhIjoiNjlkYjI4MDUyYTRlZWEyYzkwYTdmOTgxNmMzOGYwMTUifQ.VSUo52PYOUzS60NR6jqXTw"}),style:qe,opacity:.8,minResolution:8,maxResolution:200}),new Te.A({minResolution:20,opacity:1,source:new je.A({tileUrlFunction:(e,t,o)=>{const n=e[0],i=e[1],s=-e[2]-1;return"https://t0.tiles.virtualearth.net/tiles/t"+this.computeQuadKey(i,s,n)+".jpg"}}),maxZoom:17,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new ge.A({source:new fe.A({format:new ye.A,url:"geojson/USmegaregions2.geojson"}),minResolution:1600,maxResolution:8e3,style:new we.Ay({stroke:new ve.A({width:.5,color:"rgba(255, 255, 255, 0.8)"}),fill:new ke.A({color:"rgba(255, 255, 255, 0.3)"})})}),e]},vanportLayers:function(){return[new Te.A({preload:1/0,source:new je.A({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:.4,minZoom:11,maxZoom:20}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/PDX-new/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:20}),this.makeGeoJSONFillVectorLayer("geojson/VanUnderlayer.geojson",.25,160,"rgba(0,0,0, 0.99)",1,"rgba(0,0,0, 0.99)"),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Vanport/{z}/{x}/{y}.png"}),opacity:1,minZoom:7,maxZoom:20}),this.makeGeoJSONPointVectorLayer("geojson/Breach.geojson","icons/Breach.png",null,1,2e3),this.makeGeoJSONPointVectorLayer("geojson/VanportMosaic.geojson","icons/Mosaic.png",null,1,2e3)]},willametteLayers:function(){let e=new Te.A({source:new Oe.A({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:.125,maxResolution:1});return e.on("prerender",(e=>{this.spyglass(e)})),e.on("postrender",(function(e){e.context.restore()})),[new Te.A({preload:1/0,source:new je.A({url:"https://{a-d}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:1200,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Willamette2/{z}/{x}/{y}.png"}),opacity:1,minZoom:11,maxZoom:1200}),this.makeGeoJSONFillVectorLayer("geojson/UplandHighPriority.geojson",.5,1200,"rgba(190, 141, 143, 0)",1,"rgba(209, 4, 4, 0)"),this.makeGeoJSONFillVectorLayer("geojson/UplandMedPriority.geojson",.5,1200,"rgba(190, 141, 143, 0)",1,"rgba(209, 4, 4, 0)"),this.makeGeoJSONFillVectorLayer("geojson/UplandLowPriority.geojson",.5,1200,"rgba(190, 141, 143, 0)",1,"rgba(209, 4, 4, 0"),this.makeGeoJSONFillVectorLayer("geojson/UplandNoPriority.geojson",.5,1200,"rgba(190, 141, 143, 0)",1,"rgba(209, 4, 4, 0)"),this.makeGeoJSONFillVectorLayer("geojson/EnhancedNaturalRecovery.geojson",.5,1200,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/DredgeWithCap.geojson",.5,1200,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/DredgeFMD.geojson",.5,1200,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/Dredge.geojson",.5,1200,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/ContaminatedBanks.geojson",.5,1200,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/Cap.geojson",.5,1200,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),this.makeGeoJSONFillVectorLayer("geojson/MCormick&BaxterCap2005.geojson",.5,1200,"rgba(185, 12, 14, 0.0)",.5,"rgba(255, 0, 0, 0.0)"),e]},energyLayers:function(){return[...this.baseLayers,new ge.A({source:new fe.A({format:new ye.A,url:"geojson/BPA2.geojson"}),minResolution:80,maxResolution:8e3,style:new we.Ay({stroke:new ve.A({width:4,color:"rgba(0, 0, 225, 0.8)",lineDash:[8,16],lineDashOffset:12})})}),this.makeGeoJSONPointVectorLayer("geojson/CascadiaHydro2.geojson","icons/dam.png","Hydro power",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaNuclear.geojson","icons/nukes.gif","Nuclear power",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaWind.geojson","icons/wind.png","Wind Power",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaNatGas.geojson","icons/natgas.png","Natural Gas",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaCoal.geojson","icons/coal.png","Coal Power",2,4e3),this.makeGeoJSONPointVectorLayer("geojson/CascadiaSolar.geojson","icons/solar.png","Solar Power",2,4e3)]},cropsLayers:function(){return[new Te.A({preload:1/0,source:new je.A({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3,loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3})]},basinProjectLayers:function(){let e=new Te.A({source:new Oe.A({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:10});return e.on("prerender",(e=>{this.spyglass(e)})),e.on("postrender",(function(e){e.context.restore()})),[new Te.A({preload:1/0,source:new je.A({url:"https://{a-d}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),opacity:1,minResolution:1,maxResolution:16e3}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Crops/{z}/{x}/{y}.png"}),opacity:.3,minResolution:2,maxResolution:16e3}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/CBP/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:16e3}),this.makeGeoJSONFillVectorLayer("geojson/cbp_irrigated.geojson",2,181,"rgba(189, 7, 97, 0)",0,"rgba(189, 7, 97, 0)"),e]}},components:{VideoLightBox:Ke},created:function(){this.$eventBus.on("route-click",this.initMap)},beforeDestroy:function(){this.$eventBus.off("route-click",this.initMap)},mounted:function(){this.initMap(),window.addEventListener("keydown",(e=>{38===e.keyCode?(this.radius=Math.min(this.radius+5,800),this.olmap.render()):40===e.keyCode&&(this.radius=Math.max(this.radius-5,0),this.olmap.render())})),this.olmap.on("pointermove",(e=>{const t=this.olmap.forEachFeatureAtPixel(e.pixel,(e=>e));if(t){const o=t.getProperties();o.cropkey?(this.$refs.titletipContent.innerHTML=o.cropkey,this.titletip.setPosition(e.coordinate)):o.title&&o.image?(this.$refs.tooltip.innerHTML=o.image.replace("cascadia/",""),this.$refs.tooltip.innerHTML+="<div>"+o.title+"</div>",this.tooltip.setPosition(e.coordinate)):o.key3?(this.$refs.textitletipContent.innerHTML=o.key3,this.textitletip.setPosition(e.coordinate)):o.key6?(this.$refs.whitetitletipContent.innerHTML=o.key6,this.whitetitletip.setPosition(e.coordinate)):o.key5&&(this.$refs.titletipContent.innerHTML=o.key5,this.titletip.setPosition(e.coordinate))}else this.closeTitletip(),this.closeTooltip(),this.closeTextitletip(),this.closeWhitetitletip();this.mousePosition=this.olmap.getEventPixel(e.originalEvent),this.olmap.render()}))},methods:{initMap:function(){switch(this.$route.name){case"megaregionIntroduction":this.initMegaregionIntroduction();break;case"megaregionVanport":this.initMegaregionVanport();break;case"megaregionWillamette":this.initMegaregionWillamette();break;case"megaregionEnergy":this.initMegaregionEnergy();break;case"megaregionCrops":this.initMegaregionCrops();break;case"megaregionCropsBasinProject":this.initmegaregionCropsBasinProject();break;default:}},initMegaregionIntroduction:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.baseLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.introductionmetro.center),resolution:this.centerPoints.introductionmetro.resolution,minResolution:1,maxResolution:32e3}))},initMegaregionVanport:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.vanportLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.vanport.center),resolution:this.centerPoints.vanport.resolution,minZoom:11,maxZoom:19,rotation:-.41})),this.olmap&&this.olmap.on("singleclick",(e=>{const t=this.olmap.forEachFeatureAtPixel(e.pixel,(e=>e));if(t){const e=t.getProperties();if(e.vimeoSrc){const t=new Ne(e.vimeoSrc);t.open()}}}))},initMegaregionWillamette:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.willametteLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.willamette.center),resolution:this.centerPoints.willamette.resolution,minZoom:9,maxZoom:1200}))},initMegaregionEnergy:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.energyLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.energy.center),resolution:this.centerPoints.energy.resolution,minResolution:1,maxResolution:4e3}))},initMegaregionCrops:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.cropsLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.crops.center),resolution:this.centerPoints.crops.resolution,minResolution:2,maxResolution:2e3}))},initmegaregionCropsBasinProject:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.basinProjectLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.basin.center),resolution:this.centerPoints.basin.resolution,minResolution:2,maxResolution:2e3}))},computeQuadKey:function(e,t,o){let n=[];for(let i=o;i>0;i--){let o=0;const s=1<<i-1;0!==(e&s)&&o++,0!==(t&s)&&(o+=2),n.push(o)}return n.join("")},spyglass:function(e){let t=e.context;const o=e.frameState.pixelRatio;t.save(),t.beginPath(),this.mousePosition&&(t.arc(this.mousePosition[0]*o,this.mousePosition[1]*o,this.radius*o,0,2*Math.PI),t.lineWidth=5*o,t.strokeStyle="rgba(0,0,0,0.5)",t.stroke()),t.clip()}}};const tt=et;var ot=tt,nt=o(6587),it=o.n(nt);let st=o(6869),at=0;var rt={name:"MapBioregion",extends:Se,data:function(){return{centerPoints:{introductionbio:{center:[-125.8,51],resolution:4500},salmon:{center:[-119.9,45.9],resolution:1e3},chinook:{center:[-115.5,44.529633],resolution:560},coho:{center:[-122.28,45.55],resolution:300},chum:{center:[-122.9,47.8],resolution:400},sockeye:{center:[-122.1,47.3],resolution:700},transformation:{center:[-118,45.6],resolution:1200},pink:{center:[-122.9,47.8],resolution:450},restoration:{center:[-117.344,45.4415],resolution:1.9},dancing:{center:[-121.9,45.35],resolution:780},caps:{center:[-122.76,45.53],resolution:42},arrowhead:{center:[-124.05,46.33],resolution:44}},bioregionDancingIsAnimating:!0,didSetSingleclickEvent:!1,listenerKeys:[],radius:150,mousePosition:void 0,colors:[]}},computed:{...(0,f.L8)(["animTimeouts"]),baseLayers:function(){return[new Te.A({source:new je.A({url:"https://geo.timetochange.today/geoserver/gwc/service/tms/1.0.0/osm%3AWorld_Physical_Map@EPSG%3A900913@png/{z}/{x}/{-y}.png"}),opacity:.9,minResolution:5}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:2}),new Te.A({source:new je.A({url:"https://services.arcgisonline.com/arcgis/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"}),opacity:.9,minResolution:1,maxResolution:16})]},bioregionBaseLayers:function(){return[...this.baseLayers]},salmonLayers:function(){return[...this.baseLayers,new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/CriticalHabitat/{z}/{x}/{y}.png"}),opacity:1,minResolution:2,maxResolution:1200})]},chinookLayers:function(){return[...this.baseLayers,this.makeGeoJSONLineVectorLayer("geojson/Chinook.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)]},cohoLayers:function(){return[...this.baseLayers,this.makeGeoJSONLineVectorLayer("geojson/Coho.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)]},chumLayers:function(){return[...this.baseLayers,this.makeGeoJSONLineVectorLayer("geojson/Chum.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)]},sockeyeLayers:function(){return[...this.baseLayers,this.makeGeoJSONLineVectorLayer("geojson/Sockeye.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)]},pinkLayers:function(){return[...this.baseLayers,this.makeGeoJSONLineVectorLayer("geojson/Pink.geojson",10,4e3,"rgba(0,0,240, 0.01)",12)]},restorationLayers:function(){let e=new Te.A({preload:1/0,source:new je.A({url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSHydroCached/MapServer/tile/{z}/{y}/{x}"}),minResolution:1,maxResolution:4});return e.on("prerender",(e=>{this.spyglass(e)})),e.on("postrender",(function(e){e.context.restore()})),[...this.baseLayers,new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Wallowa/{z}/{x}/{y}.png"}),opacity:1,minResolution:.125,maxResolution:80}),e]},dancingLayers:function(){return[...this.baseLayers]},capsLayers:function(){return[new Te.A({source:new je.A({url:"http://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}.png"}),opacity:.9,minResolution:10}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:2}),new Te.A({source:new je.A({url:"https://api.mapbox.com/styles/v1/bkholmes/cjr6z7svt00n82rqm1y3igze4/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYmtob2xtZXMiLCJhIjoiNjlkYjI4MDUyYTRlZWEyYzkwYTdmOTgxNmMzOGYwMTUifQ.VSUo52PYOUzS60NR6jqXTw"}),opacity:1,minResolution:2,maxResolution:400}),new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Mileage2/{z}/{x}/{y}.png"}),opacity:1,minResolution:12})]},arrowheadLayers:function(){return[new Te.A({preload:1/0,source:new je.A({url:"http://ecotopia.today/cascadia/Tiles/Cascadia-new/{z}/{x}/{y}.png"}),opacity:1,minResolution:399}),new Te.A({source:new Oe.A({key:"Asxv26hh6HvBjw5idX-d8QS5vaJH1krMPBfZKjNmLjaQyr0Sc-BrHBoatyjwzc_k",imagerySet:"Aerial"}),minResolution:1,maxResolution:400}),this.makeGeoJSONPointVectorLayerWithStyle("geojson/Deconstruction.geojson",null,2,32e3,1)]}},created:function(){this.$eventBus.on("route-click",this.initMap)},beforeDestroy:function(){this.$eventBus.off("route-click",this.initMap)},mounted:function(){this.initMap(),this.colors=st({colormap:"portland",nshades:32,format:"hex",alpha:1}),window.addEventListener("keydown",(e=>{38===e.keyCode?(this.radius=Math.min(this.radius+5,800),this.olmap.render()):40===e.keyCode&&(this.radius=Math.max(this.radius-5,0),this.olmap.render())})),this.olmap.on("pointermove",(e=>{const t=this.olmap.forEachFeatureAtPixel(e.pixel,(e=>e));if(t){const o=t.getProperties();o.CropGroup&&o.key?(this.$refs.titletipContent.innerHTML=o.key,this.titletip.setPosition(e.coordinate)):o.image&&o.icon?(this.$refs.whitetitletipContent.innerHTML=o.image,this.whitetitletip.setPosition(e.coordinate)):o.title&&o.image?(this.$refs.tooltip.innerHTML=o.image.replace("cascadia/",""),this.$refs.tooltip.innerHTML+="<div>"+o.title+"</div>",this.tooltip.setPosition(e.coordinate)):o.key4&&(this.$refs.textitletipContent.innerHTML=o.key4,this.textitletip.setPosition(e.coordinate))}else this.closeTitletip(),this.closeTooltip(),this.closeTextitletip(),this.closeWhitetitletip();this.mousePosition=this.olmap.getEventPixel(e.originalEvent),this.olmap.render()}))},methods:{initMap:function(){switch(this.bioregionDancingIsAnimating=!0,this.clearFlash(),this.$route.name){case"bioregionIntroduction":this.initBioregionIntro();break;case"bioregionSalmon":this.initBioregionSalmon();break;case"bioregionSalmonChinook":this.initBioregionSalmonChinook();break;case"bioregionSalmonCoho":this.initBioregionSalmonCoho();break;case"bioregionSalmonChum":this.initBioregionSalmonChum();break;case"bioregionSalmonSockeye":this.initBioregionSalmonSockeye();break;case"bioregionSalmonPink":this.initBioregionSalmonPink();break;case"bioregionRestoration":this.initBioregionRestoration();break;case"bioregionDancing":this.initBioregionDancing();break;case"bioregionDancingCaps":this.initBioregionDancingCaps();break;case"bioregionDancingArrowhead":this.initBioregionDancingArrowhead();break;default:this.initBioregionIntro()}},initBioregionIntro:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.bioregionBaseLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.introductionbio.center),resolution:this.centerPoints.introductionbio.resolution,minResolution:8,maxResolution:8e3}))},initBioregionSalmon:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.salmonLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.salmon.center),resolution:this.centerPoints.salmon.resolution,minResolution:11,maxResolution:8e3}))},initBioregionSalmonChinook:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.chinookLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.chinook.center),resolution:this.centerPoints.chinook.resolution,minResolution:10,maxResolution:8e3}))},initBioregionSalmonCoho:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.cohoLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.coho.center),resolution:this.centerPoints.coho.resolution,minResolution:10,maxResolution:8e3}))},initBioregionSalmonChum:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.chumLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.chum.center),resolution:this.centerPoints.chum.resolution,minResolution:10,maxResolution:8e3}))},initBioregionSalmonSockeye:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.sockeyeLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.sockeye.center),resolution:this.centerPoints.sockeye.resolution,minResolution:10,maxResolution:8e3}))},initBioregionSalmonPink:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.pinkLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.pink.center),resolution:this.centerPoints.pink.resolution,minResolution:10,maxResolution:8e3}))},initBioregionRestoration:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.restorationLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.restoration.center),resolution:this.centerPoints.restoration.resolution,minResolution:.125,maxResolution:8e3}))},initBioregionDancing:function(){this.initBaseMap();const e=[...this.baseLayers,this.makeGeoJSONLineVectorLayer("geojson/Mileage.geojson",10,4e3,"rgba(255, 0, 0, 0)",4)];this.bioregionDancingIsAnimating&&e[3].getSource().on("addfeature",(e=>{if(!isNaN(parseInt(e.feature.values_["id"]))){const t=setTimeout((()=>{this.flash(e.feature)}),1800*parseInt(e.feature.values_["id"]));this.animTimeouts.push(t)}})),this.olmap.setLayerGroup(new Me.A({layers:e})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.dancing.center),resolution:this.centerPoints.dancing.resolution,minResolution:2}))},initBioregionDancingCaps:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.capsLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.caps.center),resolution:this.centerPoints.caps.resolution,minResolution:2,maxResolution:8e3}))},initBioregionDancingArrowhead:function(){this.initBaseMap(),this.olmap.setLayerGroup(new Me.A({layers:this.arrowheadLayers})),this.olmap.setView(new me.Ay({center:(0,xe.Rb)(this.centerPoints.arrowhead.center),resolution:this.centerPoints.arrowhead.resolution,minResolution:2,maxResolution:8e3}))},spyglass:function(e){let t=e.context;const o=e.frameState.pixelRatio;t.save(),t.beginPath(),this.mousePosition&&(t.arc(this.mousePosition[0]*o,this.mousePosition[1]*o,this.radius*o,0,2*Math.PI),t.lineWidth=2*o,t.strokeStyle="rgba(0,0,0,0.4)",t.stroke()),t.clip()},clearFlash(){this.animTimeouts.forEach((e=>{clearTimeout(e)})),this.$store.dispatch("clearAnimTimeouts"),it()(".mapInfo-section1").text(""),it()(".mapInfo-section2").text(""),it()(".mapInfo-section3").text(""),it()(".mapInfo-section4").text("")},flash:function(e){const t=e.values_["title"]||"",o=e.values_["date"]||"",n=e.values_["route"]||"",i=e.values_["purpose"]||"";at=(at+1)%32;const s=at;it()("div.mapInfo-section1").text(t),it()("div.mapInfo-section2").text(o),it()("div.mapInfo-section3").text(n),it()("div.mapInfo-section4").text(i),e.setStyle([new we.Ay({stroke:new ve.A({color:this.colors[s],width:3.8})})])}}};const lt=rt;var ct=lt;const ut=[{path:"/",redirect:"/watershed/acknowledgement"},{path:"/watershed/acknowledgement",name:"watershedAcknowledgement",components:{default:E,map:We}},{path:"/watershed/introduction",name:"watershedIntroduction",components:{default:()=>o.e(829).then(o.bind(o,4829)),map:We}},{path:"/watershed/terminals",name:"watershedTerminals",components:{default:()=>o.e(219).then(o.bind(o,2219)),map:We}},{path:"/watershed/dams",name:"watershedDams",components:{default:()=>o.e(246).then(o.bind(o,3865)),map:We}},{path:"/watershed/dams/falls",name:"watershedDamsFalls",components:{default:()=>o.e(422).then(o.bind(o,422)),map:We}},{path:"/watershed/dams/removal",name:"watershedDamsRemoval",components:{default:()=>o.e(463).then(o.bind(o,7463)),map:We}},{path:"/watershed/hanford",name:"watershedHanford",components:{default:()=>o.e(876).then(o.bind(o,3876)),map:We}},{path:"/watershed/hanford/legacy",name:"watershedHanfordLegacy",components:{default:()=>o.e(998).then(o.bind(o,3998)),map:We}},{path:"/watershed/hanford/plumes",name:"watershedHanfordPlumes",components:{default:()=>o.e(867).then(o.bind(o,1867)),map:We}},{path:"/watershed/hanford/floods",name:"watershedHanfordFloods",components:{default:()=>o.e(540).then(o.bind(o,5540)),map:We}},{path:"/megaregion/introduction",name:"megaregionIntroduction",components:{default:()=>o.e(308).then(o.bind(o,1308)),map:ot}},{path:"/megaregion/vanport",name:"megaregionVanport",components:{default:()=>o.e(157).then(o.bind(o,4157)),map:ot}},{path:"/megaregion/willamette",name:"megaregionWillamette",components:{default:()=>o.e(364).then(o.bind(o,2364)),map:ot}},{path:"/megaregion/energy",name:"megaregionEnergy",components:{default:()=>o.e(171).then(o.bind(o,171)),map:ot}},{path:"/megaregion/crops",name:"megaregionCrops",components:{default:()=>o.e(748).then(o.bind(o,5748)),map:ot}},{path:"/megaregion/crops/basinproject",name:"megaregionCropsBasinProject",components:{default:()=>o.e(584).then(o.bind(o,1584)),map:ot}},{path:"/bioregion/introduction",name:"bioregion",components:{default:()=>o.e(957).then(o.bind(o,1957)),map:ct}},{path:"/bioregion/salmon",name:"bioregionSalmon",components:{default:()=>o.e(209).then(o.bind(o,1590)),map:ct}},{path:"/bioregion/salmon/chinook",name:"bioregionSalmonChinook",components:{default:()=>o.e(865).then(o.bind(o,1865)),map:ct}},{path:"/bioregion/salmon/coho",name:"bioregionSalmonCoho",components:{default:()=>o.e(169).then(o.bind(o,4169)),map:ct}},{path:"/bioregion/salmon/chum",name:"bioregionSalmonChum",components:{default:()=>o.e(181).then(o.bind(o,9181)),map:ct}},{path:"/bioregion/salmon/sockeye",name:"bioregionSalmonSockeye",components:{default:()=>o.e(411).then(o.bind(o,4411)),map:ct}},{path:"/bioregion/salmon/pink",name:"bioregionSalmonPink",components:{default:()=>o.e(794).then(o.bind(o,4794)),map:ct}},{path:"/bioregion/restoration",name:"bioregionRestoration",components:{default:()=>o.e(325).then(o.bind(o,7325)),map:ct}},{path:"/bioregion/dancing",name:"bioregionDancing",components:{default:()=>o.e(537).then(o.bind(o,9537)),map:ct}},{path:"/bioregion/dancing/caps",name:"bioregionDancingCaps",components:{default:()=>o.e(581).then(o.bind(o,5581)),map:ct}},{path:"/bioregion/dancing/arrowhead",name:"bioregionDancingArrowhead",components:{default:()=>o.e(764).then(o.bind(o,2764)),map:ct}}],ht=(0,S.aE)({history:(0,S.Bt)(),routes:ut});var pt=ht;const dt={toggle(e){e.asideHidden=!e.asideHidden},clearAnimTimeouts(e){e.animTimeouts=[]}},mt={toggle(e){e.commit("toggle")},clearAnimTimeouts(e){e.commit("clearAnimTimeouts")}},gt={asideHidden:e=>e.asideHidden,animTimeouts:e=>e.animTimeouts},ft=(0,f.y$)({state(){return{asideHidden:!1,animTimeouts:[]}},getters:gt,actions:mt,mutations:dt});var yt=ft,wt=o(595),bt={install:(e,t)=>{e.config.globalProperties.$eventBus=(0,wt.A)()}};const vt=(0,n.Ef)(R);vt.use(yt),vt.use(pt),vt.use(i.A),vt.use(bt),vt.mount("#app")},7809:function(e,t,o){o.d(t,{A:function(){return m}});var n=o(6768),i=o(4232);const s={key:0,class:"material-icons"},a={key:1,class:"material-icons"},r={class:"headingText"},l={class:"body"},c={class:"content"};function u(e,t,o,u,h,p){return(0,n.uX)(),(0,n.CE)("article",{class:(0,i.C4)(p.accordionClasses),ref:"accordion"},[(0,n.Lk)("div",{onClick:t[0]||(t[0]=(...e)=>p.toggleAccordion&&p.toggleAccordion(...e)),class:"heading"},[e.isOpen?((0,n.uX)(),(0,n.CE)("i",s,"keyboard_arrow_up")):((0,n.uX)(),(0,n.CE)("i",a,"keyboard_arrow_down")),(0,n.Lk)("span",r,[(0,n.RG)(e.$slots,"header",{},void 0,!0)])]),(0,n.Lk)("div",l,[(0,n.Lk)("div",c,[(0,n.RG)(e.$slots,"default",{},void 0,!0)])])],2)}var h={name:"Accordion",props:{open:Boolean},data:function(){return{isOpen:this.open}},computed:{accordionClasses:function(){return{"is-closed":!this.isOpen}}},methods:{toggleAccordion:function(){this.isOpen=!this.isOpen,this.isOpen&&this.$refs.accordion.offsetTop>window.innerHeight&&setTimeout((()=>{this.$refs.accordion.scrollIntoView()}),500)}}},p=o(1241);const d=(0,p.A)(h,[["render",u],["__scopeId","data-v-cfaf1244"]]);var m=d},357:function(e,t,o){o.d(t,{A:function(){return u}});var n=o(6768);function i(e,t,o,i,s,a){const r=(0,n.g2)("LightBox");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",{onClick:t[0]||(t[0]=(...e)=>a.open&&a.open(...e)),class:"link"},[(0,n.RG)(e.$slots,"default",{},void 0,!0)]),e.isOpen?((0,n.uX)(),(0,n.Wv)(r,{key:0,images:o.images,showCaption:!0,onOnOpened:a.onOpenChange},null,8,["images","onOnOpened"])):(0,n.Q3)("",!0)])}var s=o(4637),a=o.n(s),r={name:"AppLightBox",components:{LightBox:a()},props:{images:Array},data:function(){return{isOpen:!1}},methods:{open:function(){this.isOpen=!0},onOpenChange:function(e){this.isOpen=e}}},l=o(1241);const c=(0,l.A)(r,[["render",i],["__scopeId","data-v-5cc4adc2"]]);var u=c}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,s){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],s=e[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(o.O).every((function(e){return o.O[e](n[l])}))?n.splice(l--,1):(r=!1,s<a&&(a=s));if(r){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,i,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{157:"5596b747",169:"a340d338",171:"4adfc8f1",181:"cddd8c43",209:"e773e97a",219:"d0e590a3",246:"9d010817",308:"b92707c7",325:"b4e1dcb4",364:"412df62a",411:"26c545b5",422:"0d73bc8d",463:"d6eb5af6",537:"14f89766",540:"65983368",581:"7215a021",584:"39783f31",748:"e413dfbd",764:"c6117f06",794:"c03b601d",829:"64d82502",865:"ed0387f2",867:"7c0012fb",876:"2f09a108",957:"a057bb91",998:"1417a5e2"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+e+"."+{157:"c2535d81",169:"9b022c49",171:"17a07376",181:"8c4b737b",209:"eff57a93",219:"e35f1a94",246:"86b3b586",308:"7aad553f",325:"4f439a07",364:"649c6c78",411:"7e15ab46",422:"ce5bf44b",463:"6a7dcc2a",537:"1e8a0727",540:"eb819085",581:"babfed24",584:"c4f2eaef",748:"398f5297",764:"3bdfeeeb",794:"5376d4b4",829:"73026a40",865:"176d83e6",867:"61104556",876:"bfea3c31",957:"28da1e64",998:"18ca404d"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ecotopia-today:";o.l=function(n,i,s,a){if(e[n])e[n].push(i);else{var r,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+s){r=h;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,o.nc&&r.setAttribute("nonce",o.nc),r.setAttribute("data-webpack",t+s),r.src=n),e[n]=[i];var p=function(t,o){r.onerror=r.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(e){return e(o)})),t)return t(o)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,i,s){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",o.nc&&(a.nonce=o.nc);var r=function(o){if(a.onerror=a.onload=null,"load"===o.type)i();else{var n=o&&o.type,r=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+r+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=r,a.parentNode&&a.parentNode.removeChild(a),s(l)}};return a.onerror=a.onload=r,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var i=o[n],s=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(s===e||s===t))return i}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){i=a[n],s=i.getAttribute("data-href");if(s===e||s===t)return i}},n=function(n){return new Promise((function(i,s){var a=o.miniCssF(n),r=o.p+a;if(t(a,r))return i();e(n,r,null,i,s)}))},i={524:0};o.f.miniCss=function(e,t){var o={157:1,169:1,171:1,181:1,209:1,219:1,246:1,308:1,325:1,364:1,411:1,422:1,463:1,537:1,540:1,581:1,584:1,748:1,764:1,794:1,829:1,865:1,867:1,876:1,957:1,998:1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=n(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={524:0};o.f.j=function(t,n){var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise((function(o,n){i=e[t]=[o,n]}));n.push(i[2]=s);var a=o.p+o.u(t),r=new Error,l=function(n){if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",r.name="ChunkLoadError",r.type=s,r.request=a,i[1](r)}};o.l(a,l,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,s,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(l)var u=l(o)}for(t&&t(n);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(u)},n=self["webpackChunkecotopia_today"]=self["webpackChunkecotopia_today"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(3965)}));n=o.O(n)})();
//# sourceMappingURL=app.35e91fe2.js.map